{"componentChunkName":"component---src-pages-search-js","path":"/search/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"rawMarkdownBody":"\r\n## 시작하기에 앞서\r\n\r\n코로나가 나라를 뒤덮고 있는 바람에 멀티캠퍼스 수업이 2주간 휴강을 하게 되었다. 그래서 그전에 배우던 Hadoop의 수업이 뒤로 밀리게 되어버렸고.. 갑작스럽게 R을 시작하게 되었다. 선생님도 새로운 분이 오셨는데 개인적으로 전의 선생님도 좋았지만 지금이 최고가 될 것 같은 느낌..? 소마도 지원해보고.. CGV 인턴도 지원하고 살짝 마음이 붕뜨고 있는데 잘 잡아보며 나아갈수 있도록 해야겠다.\r\n\r\n\r\n\r\n# R\r\n\r\n- <h4>R은 통계계산을 위해서 만들어지 프로그래밍 언어이면서 소프트웨어</h4>\r\n\r\n> 어떻게 하면 통계적 지식이 별로 없이 데이터 분석을 잘 할 수 있을까? *통계가 아예 필요없는건 아니다.\r\n\r\n\r\n\r\n### R로 무엇을 할 수 있을까?\r\n\r\n- 통계분석 : 기초 통계, 가설검정\r\n- 머신러닝 \r\n- 텍스트 마이닝\r\n- 그외 등등..\r\n\r\n> 여기서 적혀있는 것들을 한번 더 찾아서 공부해보자!\r\n\r\n\r\n\r\n\r\n\r\n<h4><i>그렇다면 데이터 분석을 하기 위해서 R이 최선일까??</i></h4>\r\n\r\n-> <b>NO!</b> SAS ,SPSS라는 것들도 있음 하지만 유로툴이고 통계 전문가들이 사용할 때 편의 일반인들이 사용하기 난이도가 너무 높다.\r\n\r\nExcel 도 있다. 기본적인 통계기능을 포함한다. \r\n\r\n그래서 일반적으로 R을 많이 사용한다. 무료고 유료툴에 버금가는 기능! + 코드 베이스(재연성을 보장한다.)\r\n\r\n> 재연성이란? => 코드를 써놓으면 고대로~ 나오는 것. printf(\"Hello Wolrd!\") => Hello World! 출력\r\n\r\n\r\n\r\n<b>이제 R을 시작해보자!</b>\r\n\r\n\r\n\r\n## 설치\r\n\r\n- R 설치\r\n\r\n  [CRAN](https://cran.r-project.org/) 여기로 들어가서 다운을 받아보자!\r\n\r\n- IDE 인 R Studio 를 설치해보자\r\n\r\n  [링크](https://rstudio.com/products/rstudio/download/#download) 들어가서 OS에 맞는걸 선택하자.\r\n\r\n\r\n\r\n## 설정\r\n\r\nR Studio 의 들어가서 Tools- Global Setting 을 해보자.\r\n\r\nCode 의 Soft-wrap 체크 , Saving에서 문자를 UTF-8 로 변경\r\n\r\n\r\n\r\n## R의 기본\r\n\r\n- 주석과 변수 선언\r\n\r\n```R\r\n# R의 주석은 #을 이용한다.\r\n\r\n# Ctrl + Shift + C 여러줄 주석\r\n# 한 라인에 하나의 statement만 존재한다면 ; 생략가능!\r\n# 작성된 코드를 실행하려면 ctrl + enter\r\n# case-sensitive(대소문자를 구별합니다.)\r\n# camel-case notaion 을 사용하자.\r\n# 변수 선언과 사칙연산\r\n# weak type 언어라 => 변수 선언시 type을 명시하지 않는다.\r\n\r\n\r\na = 100 #이것도 가능하지만\r\na <- 300 #R에서는 이게 기본이다.\r\n200 -> a #이것도 가능..\r\n```\r\n\r\n\r\n\r\n- 사칙연산과 출력\r\n\r\n```R\r\n\r\n# data type(자료형) , data structure(자료구조)\r\n# vector : 1차원, 같은 데이터 타입만 사용할 수 있음.\r\n# vecotr 중에 원소가 1개만 있는 vector => scalar\r\n\r\nmyvar <- 300 #vector 이면서 scalar 지만 scalar 라고 부르자.\r\nresult = myvar - 200;\r\n\r\nresult\r\n#[1] 100 이라는 값이 나온다.\r\n# R은 index 가 0이 아니라 1부터 시작한다.\r\n\r\n#print라는 함수로는 하나의 값만이 출력가능하다.\r\nprint(result)\r\n\r\n#두개 이상의 값 출력에는 cat을 사용하자! (linux?)\r\ncat(result,myvar)\r\n\r\n#경로안의 파일에 가서 값을 입력하고 싶을때. 기존의 내용에다가 덮어씀..\r\ncat(\"결과값은 : \", result, myvar, file=\"C:/R_workspace/R_lecture/test.txt\")\r\n\r\n#그렇다면 추가하고싶다면? append =TRUE 를 붙여보자. append =T 도 가능.\r\ncat(\"결과값은 : \", result, myvar, file=\"C:/R_workspace/R_lecture/test.txt\",append=TRUE)\r\n\r\n\r\n# 기본적인 연산자는 다른 언어와 상당히 유사\r\nvar1 <- 100\r\nvar2 <- 3\r\n\r\nresult <- var1 / var2\r\n\r\nresult # 33.33333 (총 7개의 digits로 표현 - default 가 7개 로 정해져있는 것이다.)\r\noptions(digits = 5) # 옵션 변경또한 가능.\r\nresult # 33.333\r\n\r\n# c와 java 처리 format 을 이용한 출력도 가능\r\nsprintf(\"%.8f\", result)\r\n\r\nresult = var1 %/% var2 # 몫을 구할때 사용\r\nresult # 33\r\n\r\nresult = var1 %% var2 # 나머지를 구할때 사용\r\nresult # 1\r\n```\r\n\r\n\r\n\r\n- 비교 연산과 논리연산\r\n\r\n```R\r\n#비교 연산 => 다른 언어와 같습니다\r\nvar1 = 100\r\nvar2 = 200\r\n\r\nvar1 == var2\r\nvar1 != var2\r\n\r\n# 논리 연산 => 약간의 주의 필요\r\n\r\n# &, && => 의미는 같다.\r\n# |, || => 의미는 같다.\r\n#하나짜리와 두개짜라는 vector 인지 scalar 인지에 따라서 동작이 달라집니다.\r\n\r\n#combine 함수를 이용해서 vector 를 생성 = > c()\r\nc(TRUE,FALSE) & c(TRUE,FALSE) # &이면 앞에 것 한번 뒤에것 한번 즉 벡터화 연산을 수행한다.\r\n\r\n\r\n#&&를 이용하면 맨 처음에 있는 요소를 가지고 연산\r\nc(TRUE,FALSE) && c(TRUE,FALSE)\r\n```\r\n\r\n\r\n\r\n## R의 데이터 타입\r\n\r\n- R의 기본적인 데이터 타입\r\n\r\n```R\r\n# R의 데이터 타입\r\n# 1. numberic(수치형) : 정수와 실수를 구분하지 않음.\r\n#   100, 100.3 (둘다 실수) 10L(정수)\r\n# 2. character(문자형) : 하나의 문자, 문자열 둘 다 문자열로 간주되고 '', \"\" 둘다 혼용해서 사용이 가능하다!\r\n# 3. logical(논리형) : TRUE(T) FALSE(F) \r\n# 4. complex(복소수형) : 4 - 3i \r\n\r\n# 특수데이터 타입\r\n# 1. NULL : 가르키는 객체가 없다. (java와 유사)\r\n# 2. NA(Not Available) : 유효하지 않다. 일반적으로 결측치(ex: 센서에서 값을 가져오다가 날아가는경우)를 표현할때 사용(missing value)\r\n# 3. NAN(Not A Number) : 수치 값이지만 숫자로 표현이 안되는 값\r\nsqrt(-9) # NaN\r\n# 4 . Inf(Infinite) : 양의 무한대\r\n3 / 0 # Inf\r\n```\r\n\r\n\r\n\r\n- R에서 사용하는 기본적인 함수 2개\r\n\r\n```R\r\n# R에서 제공하는 기본적인 함수 2개\r\n# mode() 해당 데이터의 타입을 알려줌\r\nvar1 <- 200\r\nmode(var1) # \"numeric\"\r\n\r\n# is 계열의 함수\r\nis.numeric(var1) #TRUE\r\n```\r\n\r\n\r\n\r\n- R에서 데이터 타입의 입력 우선순위\r\n\r\n```R\r\n#데이터 타입 입력 우선순위\r\n#character > complex > numberic > logical\r\n\r\n#기본적으로 사용되는 자료구조가 vector\r\nmyvar = c(10,20,30,40)\r\nmyvar\r\n\r\nmyvar = c(10,20,30,FALSE)\r\nmyvar\r\n\r\nmyvar = c(10,\"뿡\",30,FALSE)\r\nmyvar\r\n\r\n#as 계열의 함수를 이용한 casting(형변환)\r\nmyvar = \"100\"\r\nas.numeric(myvar)\r\n```\r\n\r\n\r\n\r\n## R Package\r\n\r\n```R\r\n\r\n# R package\r\n\r\n# R의 package는 처리할 Data + 기능(함수, 알고리즘) \r\n# R의 package 시스템은\r\n# 1. base System (기본적으로 R설치시 따라오는것)\r\n#   - base package (리얼 기본)\r\n#   - recommended package (자주 사용하는 애들)\r\n# 2. other package(그 외의 모든것.) 로 구성된다.\r\n\r\n# 간단하게 package를 하나 설치해 보아요!\r\ninstall.packages(\"ggplot2\")\r\n\r\n# package 삭제하려면\r\n# remove.packages(\"ggplot2\")\r\n\r\n# 어디에 설치 되었는지 확인해 보자\r\n.libPaths()\r\n\r\n# 경로를 바꾸려면?\r\n.libPaths(\"C:/myLib\")\r\n\r\n#이렇게 package를 설치한 후 사용을 하기이해서는\r\n# 메모리에 loading 을 해야해요!\r\nlibrary(ggplot2)\r\nrequire(ggplot2)\r\n\r\nmyvar = c(\"남자\",\"여자\",\"여자\",\"여자\",\"여자\",\"남자\")\r\n\r\nqplot(myvar)\r\n\r\n# 평균\r\nhelp(mean)\r\n# help()를 이용해도 좋으나 RDcoumentation.org 사이트를 이용하는게 더 좋아보인다!\r\n```\r\n\r\n\r\n\r\n## R의 자료구조\r\n\r\n```R\r\n## 자료구조\r\n\r\n## 자료형은 저장된 데이터의 타입을 지칭\r\n## 자료구조는 데이터가 메모리에 어떤 방식으로 저장되어 있는가\r\n\r\n## homogeneous (동질의 = 같은 종류의) 데이터 종류가 같은 애들의 집합\r\n#   - 1. vector : 1 차원 선형구조, 순서개념이 존재.\r\n#                 같은 종류의 데이터 타입을 이용\r\n#   - 2. metrix : 2 차원 구조. 인덱스를 사용할 수 있음.\r\n#                 같은 종류의 데이터 타입을 이용.\r\n#   - 3. array  : 3 차원 이상의 구조. 인덱스를 사용할 수 있음.\r\n#                 같은 종류의 데이터 타입을 이용.\r\n\r\n\r\n## heterogeneous(다른 종류의) 데이터 종류가 다른 집합\r\n#   - 1. list   : 1 차원 선형구조, 순서개념이 존재.\r\n#                 실제 저장되는 구조는 map구조\r\n#   - 2. data frame : 2차원 테이블 구조 \r\n```\r\n\r\n\r\n\r\n## Vector\r\n\r\n```R\r\n\r\n# vector : 1차원 선형자료구조. 순서의 개념이 있다. \r\n#          index를 이용하여 vector 를 사용 할 수 있다.\r\n#          index의 시작은 1.\r\n#          []를 이용하여 각 요소를 access 할 수 있다.\r\n#          요소가 1개짜리 vector => scalar\r\nmyvar = c(100)\r\n\r\n# vector 를 만드는 방법\r\n# 1. combine() 함수를 이용하기 => c()\r\n#    vector를 만드는 가장 대표적인 방법이다.\r\n#    2개 이상의 vector 를 하나의 vector로 만들때도 사용할 수 있다!\r\nmyVar1 = c(10,20,30)\r\nmyVar2 = c(3.14,10,100) \r\n\r\nmyVar1\r\nmyVar2 #3.14 10.00 100.00 형태를 같게 만들어준다\r\n\r\nresult <- c(myVar1,myVar2) #합치기!\r\n\r\n# 2. \":\" 을 이용해서 만들수 있다!\r\n#     수치형 데이터에만 사용할 수 있고\r\n#     단조증가,단조감소 형태의 vector를 생성\r\nmyVar = 1:10\r\nmyVar # 1 2 3 4 5 6 7 8 9 10\r\nmyVar = 8.7 : 2\r\nmyVar # 8.7 7.7 6.7 5.7 4.7 3.7 2.7\r\n\r\n# 3. 2번의 일반형\r\nmyVar = seq(1,10,2)\r\nmyVar # 1 3 5 7 9\r\n\r\nmyVar = seq(from = 10, to = 3, by = -3); #가능하면 이렇게 사용\r\nmyVar # 10 7 4\r\n\r\n# 4. 반복적인 값을 이용해서 vector 생성\r\n#     rep()\r\nmyVar = rep(1:3, times =3)\r\nmyVar # 1 2 3 1 2 3 1 2 3\r\n\r\nmyVar = rep(1:3, each=3)\r\nmyVar # 1 1 1 2 2 2 3 3 3\r\n\r\n# 많이 사용하는 함수중 하나가 vector안의 요소 개수를\r\n# 알아 내는 함수\r\nlength(myVar)\r\n\r\n# vector 요소의 사용(indexing 방식)\r\nmyVar = c(3.14, 100, \"Hello\", TRUE, 300)\r\nmyVar\r\n\r\n# *****\r\nmyVar[1] # 첫번째 요소\r\nmyVar[length(myVar)] # 마지막 요소를 access\r\n\r\nresult = myVar[2:4] # 2~4 번째 요소를 가져오자\r\n                    # slicing\r\nresult # \"100\" \"Hello\" \"TRUE\"\r\n\r\nresult =  myVar[c(2,3,5)] # 2,3,5 번째 요소를 가져오자\r\n                          # fancy indexing\r\nresult # \"100\" \"Hello\" \"300\"\r\n\r\nmyVar[-1] # 1번빼고 나머지!\r\nmyVar[-(3:4)] # 3 ~ 4 번째 빼고 나머지\r\nmyVar[-c(1,4,5)] # 1,4,5 번째 뺴고 나머지!\r\n\r\n### Vector 데이터에 이름을 붙여보자\r\nmyVar = c(10,20,30,40,50)\r\n\r\nnames(myVar) # NULL 이름을 아직 정해주지 않았다.\r\n\r\nnames(myVar) = c(\"a\",\"b\",\"c\",\"d\",\"e\")\r\n\r\nnames(myVar) # \"a\" \"b\" \"c\" \"d\" \"e\"\r\n\r\nmyVar \r\n# a  b  c  d  e \r\n# 10 20 30 40 50 \r\nmyVar[1] # a 10\r\nmyVar[\"a\"] # a 10\r\n\r\n###################################\r\n\r\n# vector : 연산\r\n\r\nmyVar1 = 1:3 # 1 2 3\r\nmyVar2 = 4:6 # 4 5 6\r\n\r\nresult = myVar1 + myVar2\r\nresult # 5 7 9\r\n\r\nmyVar3 = 1:6 # 1 2 3 4 5 6\r\n\r\nresult = myVar1 + myVar3 #(rectcle rule)\r\n      #1 2 3 1 2 3  1 2 3 4 5 6\r\nresult#2 4 6 5 7 9\r\n\r\n# vector에 대한 집합연산(합집합, 교집합, 차집합)\r\nvar1 = 1:5 # 1 2 3 4 5\r\nvar2 = 3:7 # 3 4 5 6 7\r\n\r\nunion(var1,var2) # 합집합: 1 2 3 4 5 6 7 \r\nintersect(var1,var2) # 교집합: 3 4 5\r\nsetdiff(var1,var2) # 차집합: 1 2 \r\n```\r\n\r\n","fields":{"slug":"/R-01/"},"frontmatter":{"title":"R 정리 -01","published":true}}},{"node":{"rawMarkdownBody":"\r\n\r\n\r\n## hadoop 환경설정\r\n\r\n1> vm / 리눅스 설치\r\n\r\n-yum 업데이트 방지 설정\r\n\r\n![ifcfg-eno16777736](images/ifcfg-eno16777736.PNG)\r\n\r\n- CentOS-Baserepo 설정\r\n\r\n![CentOS-Base.repo](images/CentOS-Base.repo.PNG)\r\n\r\n- CentOS-Sources.repo 설정\r\n\r\n![CentOS-Sources.repo](images/CentOS-Sources.repo.PNG)\r\n\r\n> 프로그램의 소프트웨어에서 자동업그레이드 켜져있는 것들을 다 꺼주면 된다. + 소프트웨어 공급원에서 확인도 안함으로 변경하기!\r\n\r\n2> selinux 방지설정\r\n\r\n![selinx-disabled](images/selinx-disabled.PNG)\r\n\r\n3> 방화벽 해제(root)\r\n\r\nsystemctl status firewalld 확인후 해제\r\n\r\n![firewall_disabled](images/firewall_disabled.PNG)\r\n\r\n\r\n\r\nrpm -qa | grep jdk 를 하면 자바가 잡힘\r\n\r\nyum remove java 를 하면 삭제\r\n\r\n후에 다시 쳐보면 잡히는게 없다 그후에 새로운 jdk 를 설치하자.\r\n\r\n> jdk 설치는 스킵! 압축을 풀고 환경변수를 설정하자!\r\n\r\n\r\n\r\n4> hadoop 설치\r\n\r\n/root/다운로드/*\r\n\r\n/home/사용자명디렉토리/다운로드/hadoop\r\n\r\n\r\n\r\n*우리는 완전분산 모드로 하둡을 구성한다*\r\n\r\n\r\n\r\n---\r\n\r\n\r\n\r\n가상머신 세개를 더 만들어주면서 network 에서 새로운 키값을 생성한다음 넣어주자.\r\n\r\nslave 1\r\n\r\n00:50:56:3F:87:A4\r\n\r\nslave2\r\n\r\n00:50:56:2E:92:37\r\n\r\nslave3\r\n\r\n00:50:56:20:EE:19\r\n\r\n\r\n\r\n\r\n\r\ngedit /etc/sysconfig/network-scripts/ifcfg-eno~~~ -> 여기서 아이피설정\r\n\r\nhostnamectl set-hostname [호스트네임]\r\n\r\nsystemctl restart network 로 네트워크 다시 설정하고 조금의 시간 이후 다시 변경됐는지 ifconfig 로 확인해보자.\r\n\r\n![master_host](images/master_host.PNG)\r\n\r\n\r\n\r\n그후 셋다 systemctl restart network 후에 master에서 ping 으로 확인해보자\r\n\r\n![network_ping](images/network_ping.PNG)\r\n\r\n\r\n\r\n\r\n\r\n후에 다른 slave로 접속할때 을 할때 비밀번호 입력을 피하기 위해서 암호키를 생성하고 복사해준다.\r\n\r\n- 암호키생성(참고로 root 계정이 아닌 사용자계정인 hadoop 에서 작업한다.)\r\n\r\n![하둡 암호키 생성](images/hadoop_password_make.PNG)\r\n\r\n- 암호키 복사\r\n\r\n![하둡키 공유](images/hadoop_key_share.PNG)\r\n\r\n\r\n\r\n그다음 master 계정에서 몇가지 파일을 수정해야한다. \r\n\r\n![마스터에서 hadoop-1.21.설정](images/hadoop-1.21.PNG)\r\n\r\n요 빨간 네모들을 하나씩 수정해보자\r\n\r\n- hadoop-env.sh\r\n\r\n![hadoop-env.sh 설정](images/hadoop-env.sh.PNG)\r\n\r\n> export 쪽이 주석되어있을텐데 바꿔줘야한다.\r\n\r\n\r\n\r\n- masters\r\n\r\n들어가보면 localhost 일텐데 그걸 마스터 다음의 슬레이브중에 하나로 설정을한다 ex)slave1 으로\r\n\r\n- slaves\r\n\r\n![slaves 설정](images/slaves.PNG)\r\n\r\n> localhost 라고 되어있을텐데 slave가 될 아이들을 넣어준다.\r\n\r\n\r\n\r\n- 마스터에서 xml 세개를 설정해준다.\r\n\r\n```xml\r\ngedit hadoop-1.2.1/conf/core-site.xml\r\n\r\n<configuration>\r\n  \t  <property>\r\n    \t    <name>fs.default.name</name>\r\n            <value>hdfs://master:9000</value>\r\n          </property>\r\n          <property>\r\n            <name>hadoop.tmp.dir</name>\r\n            <value>/home/hadoop/hadoop-data/</value>\r\n          </property>\r\n</configuration>\r\n\r\n\r\n\r\ngedit hadoop-1.2.1/conf/hdfs-site.xml\r\n\r\n<configuration>\r\n  \t  <property>\r\n    \t    <name>dfs.replication</name>\r\n     \t    <value>3</value>\r\n  \t  </property>\r\n  \t  <property>\r\n    \t    <name>dfs.http.address</name>\r\n    \t    <value>master:50070</value>\r\n  \t  </property>\r\n  \t  <property>\r\n    \t    <name>dfs.secondary.http.address</name>\r\n    \t    <value>slave1:50090</value>\r\n  \t  </property>\r\n</configuration>\r\n\r\n\r\n\r\n\r\ngedit hadoop-1.2.1/conf/mapred-site.xml\r\n \t<configuration>\r\n  \t  <property>\r\n   \t    <name>mapred.job.tracker</name>\r\n   \t    <value>master:9001</value>\r\n  \t  </property>\r\n</configuration>\r\n```\r\n\r\n\r\n\r\nscp hadoop-env.sh hadoop@slave1:/home/hadoop/hadoo-1.2.1/conf\r\n\r\n-> slave1에 hadoop-env.sh 파일을 보내준다. 뒤의 경로에\r\n\r\n나머지 두개도 똑같이 진행한다.\r\n\r\n\r\n\r\nscp *-site.xml hadoop@slave1:/home/hadoop-1.2.1/conf\r\n\r\n로 변경한 xml 세개를 다 보내준후 source /home/hadoop/.bash_profile 로 변경사항을 적용한다\r\n\r\n\r\n\r\n그후 hadoop namenode -format 이라는 명령어로 하둡을 포맷시켜 실행준비\r\n\r\nstart-all.sh 를 실행하여 하둡을 실행한다.\r\n\r\n그다음 jps 로 연결이 되어있는지 각각 슬레이브들과 마스터에서 확인.\r\n\r\n\r\n\r\n이렇게 하둡 설정이 완료된다.. 힘들어..","fields":{"slug":"/hadoop-post-01/"},"frontmatter":{"title":"Hadoop 정리 -01","published":true}}},{"node":{"rawMarkdownBody":"\r\n\r\n\r\n\r\n\r\n# Mybatis\r\n\r\n\r\n\r\n## jdbc 에서 Mybatis로\r\n\r\n- 기존의 jdbc 구조\r\n\r\n  try{ \r\n\r\n1. Class.forName(\"...\")\r\n\r\n2. Connection c = DriverManaget.getConnection(jdbc,url,id,pw);\r\n\r\n3. sql - 결과\r\n\r\n4. c.close }\r\n\r\n5. catch (Exception e) {\r\n\r\n6. e.print\r\n\r\n   }\r\n\r\n\r\n\r\n단점 : 코드 반복 많다. sql + 자바 언어가 섞인다. db 연결 복잡한 정보가 매번 작성되어야한다.\r\n\r\n해결법 : 1~2 는 한번만 가져다 쓰기 4 는 Mybatis 에게 맡기기 // sql만 빼도록해보자\r\n\r\n=> db-config.xml 파일에 연결에 관한 작성.\r\n\r\n=>sql-mapping.xml 파일에 sql 언어를 작성,\r\n\r\n\r\n\r\n위에 과정을 거치면\r\n\r\n1. xml 설정 읽어라\r\n2. db 연결 객체 가져옴\r\n3. sql 정보도 가져와서 실행 요청 - 결과\r\n4. 출력\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n## rownum\r\n\r\n- rownum 함수 : 조회 레코드 번호\r\n- \\> \\>= (단, 1 제외) 이유는 데이터를 본다음 rownum 이 매겨지기 때문.\r\n- employees 테이블에서 11~20번째 데이터 조회\r\n\r\n```sql\r\nselect r, first_name, hire_date\r\nfrom (select rownum r, first_name, hire_date from employees) where r >= 11 and r <=20;\r\n-- 안된다 생각해봐\r\n\r\n3. select r, first_name, hire_date\r\nfrom (2. select rownum r, first_name, hire_date from (1. select * from employees order by hire_date desc)) where r >= 11 and r <=20\r\n-- 1. 먼저 정렬을 하고 2. 그다음 생성 3. 그다음 조건을 거쳐서 보기\r\n```\r\n\r\n","fields":{"slug":"/mybatis-post-01/"},"frontmatter":{"title":"Mybatis 정리 -01","published":true}}},{"node":{"rawMarkdownBody":"\r\n## 시작하기에 앞서\r\n\r\n4일차 스프링 정리\r\n\r\n\r\n\r\n\r\n\r\n## Spring Post 사용시 한글 깨짐 해결\r\n\r\n- web.xml 에 이런 코드를 작성한다.\r\n\r\n```xml\r\n\t<filter>\r\n\t\t<filter-name>EncodingFilter</filter-name>\r\n\t\t<filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>\r\n\t\t<init-param>\r\n\t\t\t<param-name>encoding</param-name>\r\n\t\t\t<param-value>UTF-8</param-value>\r\n\t\t</init-param>\r\n\t</filter>\r\n\r\n\t<filter-mapping>\r\n\t\t<filter-name>EncodingFilter</filter-name>\r\n\t\t<url-pattern>/*</url-pattern>\r\n\t</filter-mapping>\r\n\r\n```\r\n\r\n> 왜 깨지는걸까?? 한번 생각해보자\r\n\r\n\r\n\r\n## 컨트롤러 메소드 리턴타입\r\n\r\n- `ModelAndView` : 모델 + 뷰 가 둘다 필요할때 (명시하면 그대로, 아니면 자동)\r\n- `String` : 뷰(수동) (return \"뷰이름\")\r\n- `void` : 뷰(url 자동)\r\n- `Map` : 모델 + 뷰(url 자동)\r\n\r\n> 어떤 경우에도 뷰가 없을 수는 없다. 이유를 생각해보자.\r\n\r\n\r\n\r\n## 컨트롤러 메소드 매개변수\r\n\r\n- `HttpServletRequest` : 무언가 전달받아 그것을 Servlet 페이지로 전달할때 사용\r\n\r\n```java\r\n@RequestMapping(name = \"/login\", method = RequestMethod.POST)\r\npublic ModelAndView loginSuccess(HttpServletRequest request) {\r\n    String id = request.getParameter(\"id\");\r\n    String pw = request.getParameter(\"pw\");\r\n    ModelAndView mv = new ModelAndView();\r\n    if (id.equalsIgnoreCase(\"spring\") && pw.equals(\"spring\")) {\r\n        mv.addObject(\"loginresult\", true);\r\n    } else {\r\n        mv.addObject(\"loginresult\", false);\r\n    }\r\n    mv.setViewName(\"loginsuccess\");\r\n    return mv;\r\n}\r\n```\r\n\r\n\r\n\r\n- `String, int, double, boolean` : form 에서 input 으로 전달되는 파라미터의 name이 같은 이름일 때 사용가능.\r\n\r\n```java\r\n@RequestMapping(name = \"/login\", method = RequestMethod.POST)\r\npublic ModelAndView loginSuccess(String id, String pw) {\r\n    //form input name = \"id\" : 요청파라미터이름이 id인 것으로 전송한다.\r\n    //요청 파라미터이름과 컨트롤러 메소드 매개변수 이름이 동일하면 자동으로 저장된다.\r\n    //form 입력 name 값 = 매개변수이름 동일 = db 컬럼명과 동일 하게 만들어서 저장하면 매우 단순해지고 좋음.\r\n    ModelAndView mv = new ModelAndView();\r\n    if (id.equalsIgnoreCase(\"spring\") && pw.equals(\"spring\")) {\r\n        mv.addObject(\"loginresult\", true);\r\n    } else {\r\n        mv.addObject(\"loginresult\", false);\r\n    }\r\n    mv.setViewName(\"loginsuccess\");\r\n    return mv;\r\n}\r\n\r\n@RequestMapping(name = \"/login\", method = RequestMethod.POST)\r\npublic ModelAndView loginSuccess(@RequestParam(\"id\") String id2, String pw) { // @RequestParam(\"id\")라고 써있는 부분 = > id2 에 자동 저장되게 해줌.\r\n    위와 동일...\r\n}\r\n\r\n@RequestMapping(name = \"/login\", method = RequestMethod.POST)\r\npublic ModelAndView loginSuccess(@RequestParam(value = \"id\", required = false, defaultValue = \"spring\") String id2,String pw, int age) \r\n//jsp 에서 age에 입력하는 값이 반드시 int 로 변형가능한 값이면 자동으로 연결해 준다.\r\n}\r\n```\r\n\r\n- `Object(객체)`\r\n\r\n```java\r\n@RequestMapping(name = \"/login\", method = RequestMethod.POST)\r\npublic ModelAndView loginSuccess(LoginVO vo) {\r\n// 요청 파라미터이름과 컨트롤러 메소드 매개변수가 객체일 떄 객체 내부 멤버 변수가 이름이 동일하면 자동 저장.\r\n\r\n    //컨트롤러 메소드 매개변수 객체일 때 자동 모델로 사용가능하다\r\n    // 모델 이름은 클래스 이름으로 자동 결정이 된다: 앞글자 소문자로 만들고 사용 가능 \r\n    // 즉 mv.addObject(\"loginVO\",vo);  라고 써준것과 같은 효과가 적용됨.\r\n    //ex)loginVO\r\n    ModelAndView mv = new ModelAndView();\r\n    if (vo.getId().equalsIgnoreCase(\"spring\") && vo.getPw().equals(\"spring\")) {\r\n        mv.addObject(\"loginresult\", true);\r\n    } else {\r\n        mv.addObject(\"loginresult\", false);\r\n    }\r\n    mv.setViewName(\"loginsuccess\");\r\n    return mv;\r\n}\r\n\r\n@RequestMapping(name = \"/login\", method = RequestMethod.POST)\r\npublic ModelAndView loginSuccess(@ModelAttribute(\"login\")LoginVO vo) {\r\n    //이번에는 vo 객체를 \"login\"이란 이름으로 보낸닷!\r\n   ...\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n- LoginVO.java\r\n\r\n```java\r\npackage edu.multi.mvc;\r\n\r\npublic class LoginVO {\r\n\t// ID PW AGE 요청 파라미터 입력 저장 변수들\r\n\tString id;\r\n\tString pw;\r\n\tint age;\r\n\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getPw() {\r\n\t\treturn pw;\r\n\t}\r\n\r\n\tpublic void setPw(String pw) {\r\n\t\tthis.pw = pw;\r\n\t}\r\n\r\n\tpublic int getAge() {\r\n\t\treturn age;\r\n\t}\r\n\r\n\tpublic void setAge(int age) {\r\n\t\tthis.age = age;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n- loginform.jsp\r\n\r\n```html\r\n<%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\"\r\n\tpageEncoding=\"UTF-8\"%>\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<meta charset=\"UTF-8\">\r\n<title>Insert title here</title>\r\n</head>\r\n<body>\r\n\t<h1>loginform.jsp 파일이 보입니다.</h1>\r\n\t<form action=\"http://localhost:8080/mvc/login\" method=\"post\">\r\n\t\tID: <input type=\"text\" name=\"id\"> <br> \r\n\t\tPW : <input type=\"password\" name=\"pw\"> <br> \r\n\t\t나이: <input type=\"text\" name=\"age\"> <br> \r\n\t\t<input type=\"submit\" value=\"로그인\">\r\n\t</form>\r\n</body>\r\n</html>\r\n```\r\n\r\n\r\n\r\n### 컨트롤러 매핑된 메소드 매개 변수\r\n\r\n- `@RequestParam(value = \"\", required = , defaultValue= \" \")`\r\n\r\n- `@ModelAttribute(\"\") LoginVO vo 또는 객체`\r\n\r\n\r\n\r\n$(\"jquery\")\r\n\r\n${jspl}\r\n\r\n\r\n\r\n초창기 ajax\r\n\r\nasynchronous javascript and xml(초창기는 xml을 써서 xml로 주고받았지만 후에 태그가 너무 많다보니 json으로 많이쓴당)\r\n\r\njson = javascript object notaion\r\n\r\njavascript 의 객체는 var obj = {name:\"홍길동\", age:21}\r\n\r\n\r\n\r\nAJAX\r\n\r\n1. 요청1- 서버처리 -....\r\n2. 클라이언트 동시 브라우저 화면 구성\r\n3. \r\n\r\n현재화면의 전체는 그대로 부분만 바꿔보자!\r\n\r\n\r\n\r\n- ajax클라이언트\r\n\r\n$.ajax(\r\n\r\n{\r\n\r\nurl : '/test'\r\n\r\ndata : {\"id\" : \"spring\" }\r\n\r\ntype : 'get'\r\n\r\ndataType : 'json'\r\n\r\nsuccess : function(server){\r\n\r\n​\t\t\tserver = \"{\\\\\"status\\\\\" : true}\"; //이미 저장되어 있음.\r\n\r\n​\t\t\t$(\"div\").html(server.status);\r\n\r\n​\t\t\tserver.status\r\n\r\n​\t\t}\r\n\r\n​\t}\r\n\r\n);\r\n\r\n\r\n\r\n- ajax서버\r\n\r\n@Controller\r\n\r\nclass A{\r\n\r\n@RequestMapping(\"/test\")\r\n\r\n@ResponseBody\r\n\r\na(String id){\r\n\r\n//처리\r\n\r\n//결과 응답\r\n\r\nreturn \"{\\\\\"status\\\\\" : true}\";\r\n\r\n}\r\n\r\n}","fields":{"slug":"/spring-post-03/"},"frontmatter":{"title":"Spring 정리 -03","published":true}}},{"node":{"rawMarkdownBody":"\r\n## 시작하기에 앞서\r\n\r\n2일차 스프링과 3일차 스프링 정리\r\n\r\n\r\n\r\n## AOP(ASPECT ORIENTED PROGRAMMING)\r\n\r\n- aspect : 모든 스프링 클래스 공통 구현 사항들\r\n- 공통관심코드=횡단관심코드=핵심관심코드 구현 공통 필요 반복 구현 사항들\r\n\r\n![Proxy](images/Proxy-1580775374061.png)\r\n\r\n![Spring_aop](images/Spring_aop-1580775374061.png)\r\n\r\n### 사용 하는 방법\r\n\r\n1. 스프링 프로젝트 기본 jar 라이브러리 파일들 다운로드\r\n2. aop 관련 라이브러리 추가 [다운로드](https://mvnrepository.com/) \r\n3. aspect 클래스 정의 (공통관심)\r\n4. target 클래스 정의 (핵심관심)\r\n5. pointcut 문법 (공통(메소드:a) \r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\r\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n\txmlns:aop=\"http://www.springframework.org/schema/aop\"\r\n\txsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\thttp://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.3.xsd\">\r\n\t\r\n\t<bean id=\"member\" class=\"aop1.Member\" />\r\n\t<bean id=\"board\" class=\"aop1.Board\" />\r\n\t<bean id=\"common\" class=\"aop1.Common\" />\r\n\t\r\n\t<aop:config>\r\n\t\t<aop:pointcut expression=\"execution (public * aop1.*.*(..))\" id=\"pc\"/>\r\n\t\t<!-- modifier 리턴타입 패키지명.클래스명.메소드(매개변수개수) \r\n\t\t<aop:pointcut expression=\"execution (public *[리턴타입] aop1[패키지명].*[클래스].*[메소드](..)[매개변수])\" id=\"pc\"/>\r\n\t\t* : 모든\r\n\t\t(..) : 모든 매개변수\r\n\t\t.. : 하위패키지 포함\r\n\t\t-->\r\n\t\t<aop:aspect id=\"aspect1\" ref=\"common\">\r\n<!-- \t\t\t<aop:before method=\"a\" pointcut-ref=\"pc\"/>\r\n\t\t\t<aop:after method=\"b\" pointcut-ref=\"pc\"/> -->\r\n\t\t\t<aop:around method=\"c\" pointcut-ref=\"pc\"/>\r\n\t\t</aop:aspect>\r\n\t</aop:config>\r\n</beans>\r\n\r\n```\r\n\r\n\r\n\r\n- Annotaion 을 활용한 AOP\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\r\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n\txmlns:aop=\"http://www.springframework.org/schema/aop\"\r\n\txmlns:context=\"http://www.springframework.org/schema/context\"\r\n\txsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.3.xsd\">\r\n\r\n\t<context:component-scan base-package=\"annotaion.aopexam\"> </context:component-scan>\r\n\t<aop:aspectj-autoproxy/> <!--Annotaion으로 연결만 잘되어있다면 한방에 해결.. -->\r\n\r\n\r\n</beans>\r\n\r\n```\r\n\r\n### AOP in Annotaion\r\n\r\n- `@Aspect`: 공통 관심 클래스 위에 선언\r\n\r\n- `@PointCut`: 메소드 내 부 내용을 구현하지 않고 위에 선언후 경로를 설정.\r\n\r\n  ```java\r\n  @Component\r\n  @Aspect\r\n  public class AnimalAspect {\r\n  \t\r\n  \t@Pointcut(\"execution (public * annotaion.aopexam.*.*(..))\")\r\n  \tpublic void eat() { };\r\n  \t\r\n  \t@Before(\"eat()\")\r\n  \tpublic void whatEat() {\r\n  \t\tSystem.out.println(\"오늘 점심에 뭐 먹었어요?\");\r\n  \t}\r\n  \r\n  \t@AfterReturning(pointcut= \"eat()\", returning = \"returning\")\r\n  \tpublic void afterEat(Object returning) {\r\n  \t\ttry {\r\n  \t\t\tif (returning != null) {\r\n  \t\t\t\tSystem.out.println(returning + \"먹습니다\");\r\n  \t\t\t}\r\n  \t\t} catch (Throwable e) {\r\n  \t\t\t// TODO Auto-generated catch block\r\n  \t\t\te.printStackTrace();\r\n  \t\t}\r\n  \t}\r\n  }\r\n  ```\r\n\r\n\r\n\r\n\r\n\r\n# FrontControlller 패턴 + MVC 패턴\r\n\r\n1. FrontControllerServlet 호출 (모든 url 을 받아옴)\r\n\r\n```java\r\npublic class FrontControllerServlet extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows ServletException, IOException {\r\n\t\t// 1. 모든요청은 FrontController 로 들어옴.\r\n\t\t// 2. uri 가장 뒤 요소 분석 http.../hello\r\n\t\tresponse.setContentType(\"text/html;charset=UTF-8\");\r\n\t\tPrintWriter out = response.getWriter();\r\n\t\tout.println(\"<h1> FrontControllerServlet </h1>\");\r\n\t\tout.println(request.getRequestURL());\r\n\t\tout.println(request.getRequestURI());\r\n\r\n\t\tString s[] = request.getRequestURI().split(\"/\");\r\n\t\t// 3. hello - 일시키자 --MVC --> SPRING 의 내부환경을 이해해 보자!\r\n\t\tHandlerMapping mapping = new HandlerMapping();\r\n\t\tController controller = mapping.getController(s[s.length - 1]);\r\n\t\tString viewName = controller.handleRequest(request, response);\r\n\r\n\t\tRequestDispatcher rd = request.getRequestDispatcher(viewName);\r\n\t\trd.forward(request, response);\r\n\t}\r\n}\r\n```\r\n\r\n2. HelloController 호출\r\n\r\n- xxxController : handleRequest 를 갖는다는 약속(인터페이스로 구성)\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\n\r\nimport javax.servlet.RequestDispatcher;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\npublic interface Controller {\r\n\tpublic String handleRequest(HttpServletRequest request, HttpServletResponse response);\r\n}\r\n\r\npublic class HelloController implements Controller {\r\n\tpublic String handleRequest(HttpServletRequest request, HttpServletResponse response) {\r\n\t\tSystem.out.println(\"HelloController 실행중입니다.\");\r\n\t\t//servlet ---> jsp 데이터 전달 = 공유\r\n\t\trequest.setAttribute(\"model\", \"Hello Spring\");\r\n\t\treturn \"/Hello.jsp\";\r\n\t\t//request.getAttribute(\"model\");\r\n\t\t//${model}\r\n\t}\r\n}\r\n\r\npublic class HandlerMapping {\r\n\tHashMap<String, Controller> mappings;\r\n\r\n\tpublic HandlerMapping() {\r\n\t\tmappings = new HashMap<String, Controller>();\r\n\t\tmappings.put(\"hello\", new HelloController());\r\n\t}\r\n\t\r\n\tpublic Controller getController(String name) {\r\n\t\treturn mappings.get(name);\r\n\t}\r\n}\r\n```\r\n\r\n3. \"hello spring\" 문자열값 생성(model)\r\n\r\n4.  hello.jsp 가 출력(view)\r\n\r\n   ---> hello.jsp\r\n\r\n```html\r\n<%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\"\r\n    pageEncoding=\"UTF-8\"%>\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<meta charset=\"UTF-8\">\r\n<title>스프링 mvc 테스트</title>\r\n</head>\r\n<body>\r\n<h1>컨트롤러 에서 전달 받은 값 : ${model}</h1>\r\n<h1>컨트롤러 에서 전달 받은 값 : <%=request.getAttribute(\"model\") %></h1>\r\n</body>\r\n</html>\r\n```\r\n\r\n\r\n\r\n- spring bean configutartion file => di, aop\r\n\r\n- spring mvc configuration file => di, aop , mvc (ex: servlet-context.xml)\r\n\r\n- web server configuration file => spring mvc , servlet.jsp(web.xml)\r\n\r\n> model - 용어 /개념 -view 보여줄 데이터(생성+결과)\r\n\r\n\r\n\r\n##  spring mvc xml 태그설정 &  annotaion 설정\r\n\r\n들어가기 앞서서 일단 Spring MVC가 어떻게 동작하는지 보고가자.\r\n\r\n![Spring_MVC](images/Spring_MVC.png)\r\n\r\n\r\n\r\n**Spring MVC**내에서 처리되는 하나의 요청에 대한 Life Cycle과정은 위 그림과 같다.\r\n\r\n클라이언트의 요청에 대한 최초 진입 지점은 DispatcherServlet이 담당하게 된다. 대부분의 MVC를 지원하는 프레임워크가 메인 Servlet을 가지는 것처럼 Spring MVC 또한 메인 Servlet이 최초 진입지점으로 다음의 작업을 처리하게 된다. \r\n\r\n**DispatcherServlet**은 Spring Bean Definition에 설정되어 있는 Handler Mapping 정보를 참조하여 해당 요청을 처리하기 위한 Controller를 찾는다.\r\n\r\n**DispatcherServlet**은 선택된 Controller를 호출하여 클라이언트가 요청한 작업을 처리한다.** \r\n\r\n**Controller**는 Business Layer와의 통신을 통하여 원하는 작업을 처리한 다음 요청에 대한 성공유무에 따라 ModelAndView 인스턴스를 반환한다. ModelAndView 클래스에는 UI Layer에서 사용할 Model데이터와 UI Layer로 사용할 View에 대한 정보가 포함되어 있다.\r\n\r\n**DispatcherServlet**은 ModelAndView의 View의 이름이 논리적인 View 정보이면 ViewResolver를 참조하여 이 논리적인 View 정보를 실질적으로 처리해야할 View를 생성하게 된다.\r\n\r\n**DispatcherServlet**은 ViewResolver를 통하여 전달된 View에게 ModelAndView를 전달하여 마지막으로 클라이언트에게 원하는 UI를 제공할 수 있도록 한다. 마지막으로 클라이언트에게 UI를 제공할 책임은 View 클래스가 담당하게 된다.\r\n\r\n\r\n\r\n코드로 한번 확인해보자. web-xml 밑부분을 보자.\r\n\r\n```xml\r\n\t<servlet>\r\n\t\t<servlet-name>appServlet</servlet-name>\r\n\t\t<servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>\r\n\t\t<init-param>\r\n\t\t\t<param-name>contextConfigLocation</param-name>\r\n\t\t\t<param-value>/WEB-INF/spring/appServlet/servlet-context.xml</param-value>\r\n\t\t</init-param>\r\n\t\t<load-on-startup>1</load-on-startup>\r\n\t</servlet>\r\n\r\n\t<servlet-mapping>\r\n\t\t<servlet-name>appServlet</servlet-name>\r\n\t\t<url-pattern>/</url-pattern>\r\n\t</servlet-mapping>\r\n```\r\n\r\n> 이 부분에서 DispatcherServlet 쪽으로 연결이되어서 Controller쪽에 연결을 해준다고 생각하면된다.\r\n\r\n그후 src\\main\\webapp\\WEB-INF\\spring\\appServlet안에 있는 servlet-context.xml 을 보자\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<beans:beans\r\n\txmlns=\"http://www.springframework.org/schema/mvc\"\r\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n\txmlns:beans=\"http://www.springframework.org/schema/beans\"\r\n\txmlns:context=\"http://www.springframework.org/schema/context\"\r\n\txsi:schemaLocation=\"http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n\t\thttp://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\thttp://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd\">\r\n\r\n\t<!-- DispatcherServlet Context: defines this servlet's request-processing \r\n\t\tinfrastructure -->\r\n\r\n\t<!-- Enables the Spring MVC @Controller programming model -->\r\n\t<annotation-driven />\r\n\t<!-- @Componet @Service @Repository @Autowired -->\r\n\t<context:component-scan base-package=\"edu.multi.mvc\" />\r\n\r\n\t<!-- Handles HTTP GET requests for /resources/** by efficiently serving \r\n\t\tup static resources in the ${webappRoot}/resources directory -->\r\n\t<resources mapping=\"/resources/**\" location=\"/resources/\" />\r\n\r\n\t<!-- Resolves views selected for rendering by @Controllers to .jsp resources \r\n\t\tin the /WEB-INF/views directory -->\r\n\t<beans:bean\r\n\t\tclass=\"org.springframework.web.servlet.view.InternalResourceViewResolver\">\r\n\t\t<beans:property name=\"prefix\" value=\"/WEB-INF/views/\" />\r\n\t\t<beans:property name=\"suffix\" value=\".jsp\" />\r\n\t</beans:bean>\r\n\r\n<!-- \t1.xml 태그 spring mvc 설정\r\n\t<beans:bean id=\"hc\" class=\"test.HelloController\" />\r\n\t<beans:bean id=\"board\" class=\"test.BoardController\" />\r\n\r\n\t<beans:bean id=\"urlMapping\"\r\n\t\tclass=\"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping\">\r\n\t\t<beans:property name=\"mappings\">\r\n\t\t\t<beans:props>\r\n\t\t\t\t<beans:prop key=\"/hello\">hc</beans:prop>\r\n\t\t\t\t<beans:prop key=\"/board\">board</beans:prop>\r\n\t\t\t</beans:props>\r\n\t\t</beans:property>\r\n\t</beans:bean> -->\r\n    \r\n</beans:beans>\r\n\r\n```\r\n\r\n꽤 많은 설정들이 있는데 주석들을 읽으면 어떠한 역활을 하는지 알 수 있다. 마지막 주석 문단은 이제 위에서 사용했던 코드들을 Spring식으로 변환하기 위한 설정들.\r\n\r\n실습에서는 DAO 클래스와 VO 클래스들을 만들고 jdbc로 연결을 통해 작업을 해보았는데 그것은 제외히고 HelloController만 보면\r\n\r\n```java\r\npublic class HelloController implements Controller {\r\n\r\n\t@Override\r\n\tpublic ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) {\r\n\t\tSystem.out.println(\"HelloController 실행중입니다.\");\r\n\t\t\r\n\t\tModelAndView mv = new ModelAndView();\r\n\t\t//servlet ---> jsp 데이터 전달 = 공유 == Model\r\n\t\tmv.addObject(\"model\",\"Hello Spring\"); // request.setAttribute()\r\n\t\tmv.setViewName(\"hello\"); //view 세팅\r\n\t\treturn mv;\r\n\t}\r\n}\r\n```\r\n\r\n이렇게 위에서 써있는대로 `ModelAndView` 객체를 만들고 그것을 전달하여 view를 생성한다.\r\n\r\n그걸로 생성해낸 hello.jsp 코드다.\r\n\r\n```html\r\n<%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\"\r\n    pageEncoding=\"UTF-8\"%>\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<meta charset=\"UTF-8\">\r\n<title>스프링 mvc 테스트</title>\r\n</head>\r\n<body>\r\n<h1>컨트롤러 에서 전달 받은 값 : ${model}</h1>\r\n<h1>컨트롤러 에서 전달 받은 값 : <%=request.getAttribute(\"model\") %></h1>\r\n</body>\r\n</html>\r\n```\r\n\r\n\r\n\r\n이걸이제 Annotaion 형식으로 한번 바꿔보자!\r\n\r\n먼저 MVC형식의 Annotaion 을 사용하기 위해서는 servlet-context.xml 파일에서 추가가 필요하다.\r\n\r\n(사실 이미 위에도 추가되어있다. 주석으로 써진 이유가 이미 내 코드가 Annotaion 이기 때문..)\r\n\r\n```xml\r\n\t<!-- Enables the Spring MVC @Controller programming model -->\r\n\t<annotation-driven />\r\n```\r\n\r\n요 한줄..이 핵심이다. 잘 생각해보자.\r\n\r\n그리고 변경된 HelloController\r\n\r\n```java\r\n@Controller\r\npublic class HelloController{\r\n\t\r\n\t@RequestMapping(\"/hello\") //<beans:prop key = \"/hello\">hc<beans:prop>\r\n\tpublic ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) {\r\n\t\tSystem.out.println(\"HelloController 실행중입니다.\");\r\n\t\t\r\n\t\tModelAndView mv = new ModelAndView();\r\n\t\t//servlet ---> jsp 데이터 전달 = 공유 == Model\r\n\t\tmv.addObject(\"model\",\"Hello Spring(어노테이션)\"); //request.setAttribute()\r\n\t\tmv.setViewName(\"hello\"); //view 세팅 없으면 annotaion과 같은 이름으로 만들어줌.\r\n\t\treturn mv;\r\n\t}\r\n}\r\n```\r\n\r\nmv.setViewName 같은 경우 후에 다시 설명해준다고 하셨다. Annotaion 설정시 있어도 없어도 된다고는 하는데.. 한번 공부해보자.\r\n\r\n\r\n\r\n`@Controller` : 클래스 위에 선언\r\n\r\n`@RequestMapping(\"/context명\")` : 메소드(또는 클래스)\r\n\r\n`@RequestMapping(name=\"/hello\" , method=RequestMethod.GET)`\r\n\r\n- GET\r\n  - http:...login?name1=value1&name2=value2\r\n  - url 뒤 요청 파라미터 값을 적어 전송 방식 : GET방식이다!\r\n  - url?변수명1=값1\r\n  - 특수문자나 한글 인코딩하여 전송\r\n  - url 공백은 포함하면 안된다.\r\n  - url 길이 제한\r\n\r\n\r\n\r\n- POST(기본적으로 GET방식을 가지며)\r\n  - 전송 파라미터 값이 우리 눈에 보이지 않음.\r\n  - 전달 길이 무제한\r\n  - 파일 업로드, 암호 전송\r\n\r\n```java\r\n@Controller\r\npublic class LoginController {\r\n\r\n\t@RequestMapping(name = \"/login\", method = RequestMethod.GET)\r\n\t// 1. Request매핑 메소드 리턴타입 String\r\n\t// 뷰이름으로 되는 규칙이 있음. 모델은 필요없고 뷰의 이름만 필요할때는 이렇게 사용하는게 좋다\r\n\tpublic String loginform() {\r\n\r\n\t\t// 로그인폼 출력\r\n\r\n\t\treturn \"loginform\";\r\n\t}\r\n\r\n\t@RequestMapping(name = \"/login\", method = RequestMethod.POST)\r\n\tpublic ModelAndView loginSuccess(HttpServletRequest request) {\r\n\t\tModelAndView mv = new ModelAndView();\r\n\t\tmv.addObject(\"loginresult\", true);\r\n\t\tmv.setViewName(\"loginsuccess\");\r\n\t\treturn mv;\r\n\t}\r\n}\r\n```\r\n\r\n이렇게 같은 url 요청이여도 그것이 어떤 방식으로 가냐에 따라서 다른 jsp 페이지를 요청 할 수도 있다는 것을 기억하자!","fields":{"slug":"/spring-post-02/"},"frontmatter":{"title":"Spring 정리 -02","published":true}}},{"node":{"rawMarkdownBody":"\r\n## 시작하기에 앞서\r\n\r\n수업이 좀 진행되었지만 Spring 을 다시 정리하고자 글을 남긴다. 혼자 보기 용으로 쓴 글이라 매우 난잡..\r\n\r\n# Spring\r\n\r\n- 스프링의 기본구조 - 코어 위에서 다양한 동작을 독립적으로 사용가능하다 (ex: AOP와 DAO만 사용 등등)\r\n\r\n![Spring_basic](images/Spring_basic.png)\r\n\r\n스프링 파일 정리\r\n\r\n- Maven: 프로젝트 관리 도구(?) (하는일: 구조를 만들어준다.)\r\n- class -> library(jquery) -> frame work(spring)\r\n\r\n\r\n\r\nSpring Bean\r\n\r\n- Java 에서는 new 라는걸로 객체 생성\r\n- Spring 에서는 bean으로 생성,\r\n\r\n\r\n\r\n## 스프링의 특징\r\n\r\n1. 여러가지 모듈 단위별\r\n2. 스프링 이전 개발 자바 객체 그대로 재사용 가능.\r\n3. POJO 클래스들도 사용 가능.\r\n4. 다양한 데이터베이스 연결이 가능 Spring ORM or Spring Dao jdbc 등 가능하지만 우리는 mabatis 를 활용한다.\r\n\r\n\r\n\r\n## DI\r\n\r\n- IOC (Inversion of Control) \r\n\r\n  ```java\r\n  class A{\r\n  \t//B b1 = new B(); //일반적인 객체 생성\r\n      B b1;\r\n      A(B b1){\r\n          this.b1 = b1; //외부에서 전달한 객체로 b1을 생성하는 법.\r\n      }\r\n  }\r\n  ```\r\n\r\n  평소에 객체를 만드는 방식으로 만드는 것이 아니라. 만들고자 하는 객체를 스프링에 전달해주면 그걸 스프링이 만들어줌. = `new`가 사라지고 스프링 대신 생성 객체 전달받는다. \r\n\r\n- Dependency Injection (의존성 주입)\r\n\r\n  1. 생성자 DI\r\n  2. setter DI\r\n\r\n## 설정\r\n\r\npom.xml 안의 \r\n\r\njava 버전 1.8 하고 스프링 버전을 4.3.18 로 바꾸고 Properties에서 java build path 에서 자바 버전을 바꾸고 project facets 에서도 java 버전 변경 그리고 runtimes 에서 tomcat 설정\r\n\r\n\r\n\r\n> pojo : 스프링/web/일반 main 재사용이 가능한 자바 객체\r\n>\r\n> 스프링 자바객체 = spring bean\r\n\r\n\r\n\r\n<bean id = \"bean이름\" class=\"패키지명.클래스명\"//>\r\n\r\n\r\n\r\n- DO : Data object = value object = data transfer object 값 저장 객체\r\n\r\n- DAO :  Data access object / jdbc/ io / 네트워크 값이 저장되어있는 곳에 접근해서 값을 가져오는 객체\r\n\r\n`ApplicationContext` 는 spring 에서 factory 역활을 해준다.\r\n\r\n\r\n\r\n## 스프링 내부 규칙\r\n\r\n1.  스프링 xml 안에서 같은 이름 같은 타입 객체 1개 생성 - 공유 싱글턴 방식으로 생성됨\r\n2.  스프링 공장 생성 객체만 전달.\r\n3.  스프링 규칙대로 강제적\r\n\r\n## Repository\r\n\r\n```java\r\n@Repository(\"dao\")\r\npublic class EmpDAO{\r\n    EmpVO vo;\r\n    setVO(EmpVo vo){\r\n        this.vo = vo;\r\n    }\r\n}\r\n\r\n@Repository\t//\"empDAO\" 라는 이름으로 객체가 생성됨.\r\npublic class EmpDAO{\r\n    @Autowired \t//setVO라는 함수를 대체함\r\n    EmpVO vo;\r\n}\r\n\r\n@Repository(\"vo\")\r\npublic class EmpVO{\r\n    String name;\r\n    double salary;\r\n}\r\n```\r\n\r\n위 코드를 사용하기위해서는\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\r\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n\txmlns:context=\"http://www.springframework.org/schema/context\"\r\n\txsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd\">\r\n\r\n\t<!--@Repository, @Component, @Autowired 설정 인식 표현을 해줘야 인식함.  -->\r\n\t<context:component-scan base-package=\"annotaion.empspring\" />\r\n\t\r\n\t<bean id=\"vo\" class=\"annotaion.empspring.EmpVO\">\r\n\t\t<property name=\"name\" value=\"김사원\"></property>\r\n\t\t<property name=\"salary\" value=\"10000\"></property>\r\n\t\t<property name=\"deptname\" value=\"영업부\"></property>\r\n\t</bean>\r\n\r\n</beans>\r\n\r\n```\r\n\r\n### 참고\r\n\r\n- ejb vs spring [링크](https://m.blog.naver.com/sillllver/220593543939)\r\n- Framework 책 27pg\r\n- DI(Dependency Injection) - IoC (https://itgosu.tistory.com/10) + 책 143pg\r\n- AOP(Aspect Oriented Programming) - 관점지향프로그래밍 143pg\r\n- POJO: plain old java object (과거부터 계속해서 쓰여왔던 java 클래스 어디에서나 쓰일수 있음. ex: class B)\r\n     bean 27~후에 나옴.\r\n\r\n- MVC - 책313pg\r\n\r\n> 스프링은 양방향 응용, 웹 ,모바일 등 다 사용가능,  타 프레임워크랑 호환이 좋음.\r\n\r\n- [참고사이트](https://wizcenter.tistory.com/)\r\n\r\n> 책은 토비의 스프링 추천해주셨음.","fields":{"slug":"/spring-post-01/"},"frontmatter":{"title":"Spring 정리 -01","published":true}}},{"node":{"rawMarkdownBody":"\r\n## 시작하기에 앞서\r\n\r\nOracle Database를 활용하여 데이터베이스 기초를 배우고 있는 중이다. ddl과 dml에 대해서 학습하고 정리해본 내용이다.\r\n\r\n\r\n\r\n## where & order by\r\n\r\n* 기본적으로 SCOTT/TIGER에서 진행하였다.\r\n\r\n```sql\r\n--where 절에서는 as 사용 x\r\nselect ename,sal,comm,sal+nvl(comm,0) as \"총급여\"\r\nfrom emp\r\nwhere sal + nvl(comm, 0) >= 2000;\r\n\r\n--정렬\r\nselect ename,sal,comm,sal+nvl(comm,0) as \"총급여\"\r\nfrom emp\r\norder by sal;\r\n--셀값만 준다면 기본적으로는 오름차순 (asc인데 생략가능)\r\n\r\nselect ename,sal,comm,sal+nvl(comm,0) as \"총급여\"\r\nfrom emp\r\norder by sal desc;\r\n--desc는 내림차순\r\n\r\nselect ename,sal,comm,sal+nvl(comm,0) as \"총급여\"\r\nfrom emp\r\norder by sal asc, comm desc;\r\n--각각 조건도 가능.\r\n\r\nselect ename, sal, sal + nvl(comm, 0) as \"총급여\"\r\nfrom emp\r\nwhere comm is null\r\norder by sal;\r\n--is null is not null로도 사용가능.\r\n\r\nselect ename, sal, sal + nvl(comm, 0) as \"총급여\"\r\nfrom emp\r\nwhere comm is null\r\norder by \"총급여\";\r\n```\r\n\r\n\r\n\r\n## 단일행 함수(dual)\r\n\r\n```sql\r\n-- 단일행 함수\r\nselect dname, lower(dname), loc, lower(loc)\r\nfrom dept;\r\n\r\nselect round(44.55), round(44.55,1), trunc(44.55) \r\nfrom dual;\r\n--round 반올림, 몇번째 짜리까지 반올림, 소수점 잘림.\r\n\r\nselect sal, sal*0.03 as \"TAX\"\r\nfrom emp;\r\n--기본적인 연산도 가능하다.\r\n\r\n--어디서부터 시작해서 몇개 나오는지\r\nselect ename, hiredate, substr(hiredate,4,2)\r\nfrom emp\r\nwhere substr(hiredate,4,2) like 12;\r\n\r\n--날짜에 관련된 함수와 형식변환\r\nselect sysdate ,substr(sysdate,4,2) from dual;\r\n\r\nselect sysdate , to_char(sysdate, 'YY') from dual;\r\nselect sysdate , to_char(sysdate, 'YYYY') from dual;\r\nselect sysdate , to_char(sysdate, 'MM') from dual;\r\nselect sysdate , to_char(sysdate, 'day') from dual;\r\nselect sysdate , to_char(sysdate, 'mm') from dual;\r\nselect sysdate , to_char(sysdate, 'dd') from dual;\r\n\r\n--emp에서 사원들의 사원명, 입사월, 요일 정보를 출력하세요.\r\nselect ename, to_char(hiredate,'mm') as \"입사월\", to_char(hiredate,'day') as \"입사 요일\"\r\nfrom emp\r\norder by \"입사월\";\r\n\r\nselect sysdate, to_date('2019/12/24') from dual;\r\nselect sysdate, to_date('2019-12-24') from dual;\r\nselect sysdate, to_date('29 12 24', 'dd-mm-yy') from dual;\r\n\r\n-- decode 함수\r\n--decode(어디에서,몇번째,해줄것, 몇번재, 해줄것)\r\nselect ename, sal, deptno, decode(deptno, 10, sal*1.2, 20, sal* 0.7) as \"보너스\"\r\nfrom emp\r\norder by deptno;\r\n```\r\n\r\n\r\n\r\n---\r\n\r\n\r\n\r\n## join\r\n\r\n> join은 두 개의 상관있는 테이블을 연결하여 서로의 테이블에서 데이터를 가져올 때 사용된다.\r\n\r\n```sql\r\nselect ename,dname,loc\r\nfrom emp,dept\r\nwhere EMP.DEPTNO = dept.deptno;\r\n--두 개의 테이블이 어떤 관계인지 정의내려줘야한다.\r\n\r\nselect ENAME, EMP.DEPTNO, DNAME, LOC\r\nfrom EMP,DEPT\r\nwhere EMP.DEPTNO = DEPT.DEPTNO;\r\n\r\nselect ename, e.deptno,dname,loc\r\nfrom emp e, dept d\r\nwhere e.deptno = d.deptno;\r\n\r\n--sal > 2000 크면서 deptno가 20인 사원의 이름, sal loc 출력\r\nselect ename, sal, loc\r\nfrom emp e, dept d\r\nwhere e.DEPTNO = d.DEPTNO and e.SAL > 2000 and e.DEPTNO = 20;\r\n\r\n*********************\r\n-- Ansi join 표준(맘대로 하면 복잡하니 표준을 만들자) : , => (inner) join where => on\r\n*********************\r\n\r\n--inner join 둘의 공통\r\nselect ename, sal, loc\r\nfrom emp e join dept d\r\non e.deptno = d.deptno\r\nwhere sal > 2000 and e.deptno = 20;\r\n\r\n--outer join\r\n--Oracle\r\n--null 쪽에 + 마킹 : +가 있는 쪽에 있는 모든걸 보여준다 null 이여도.\r\nselect ename, d.deptno, dname, loc\r\nfrom emp e, dept d\r\nwhere e.deptno(+) = d.deptno;\r\n\r\n--Ansi join\r\n-- right 쪽이 테이블이 마스터가 된다. \r\n-- 기준이 교집합에서 오른쪽이 다 차있는 교집합이라고 생각하면 될듯 .\r\nselect ename, d.deptno, dname, loc\r\nfrom emp e right outer join dept d\r\non e.deptno = d.deptno;\r\n\r\n***********************\r\n-- non equi join\r\n***********************\r\n\r\nselect * from salgrade;\r\n\r\n-- oracle join\r\nselect ename,sal,grade\r\nfrom emp, salgrade\r\nwhere sal between losal and hisal;\r\n\r\n\r\n--ansi join\r\nselect ename, sal, grade\r\nfrom emp join salgrade\r\non sal between losal and hisal;\r\n\r\n\r\n*****************\r\n-- n개의 테이블 join\r\n*****************\r\n-- 사원명, sal, 부서이름, salgrade\r\n\r\n--oracle\r\nselect ename, sal, dname, grade\r\nfrom emp, dept, salgrade\r\nwhere emp.deptno = dept.deptno and sal between losal and hisal;\r\n\r\n\r\n-- ansi join\r\nselect ename, sal, dname, grade\r\nfrom emp \r\n\tjoin dept\r\n\ton emp.deptno = dept.deptno\r\n\tjoin salgrade\r\n\ton sal between losal and hisal \r\nwhere sal > 1500;\r\n\r\n******************\r\n-- oracle self join\r\n******************\r\n-- 사원의 이름과 그 사원의 상사 이름 출력\r\nselect e.ename, m.ename\r\nfrom emp e, emp m\r\nwhere e.mgr = m.empno;\r\n\r\nselect e.ename, m.ename\r\nfrom emp e, emp m\r\nwhere e.mgr = m.empno(+);\r\n\r\n-- 상사보다 월급을 더 많이 받는 직원\r\nselect e.ename, m.ename, e.sal, m.sal\r\nfrom emp e, emp m\r\nwhere e.mgr = m.empno(+) and e.sal > m.sal;\r\n\r\n--ansi left와 right 는 outer 생략가능. \r\nselect e.ename, m.ename\r\nfrom emp e join emp m\r\non e.mgr = m.empno;\r\n\r\n\r\nselect e.ename \"사원명\", e.sal, m.ename \"상사이름\", m.sal\r\nfrom emp e \r\njoin emp m\r\non e.mgr = m.empno\r\nwhere e.sal >= m.sal;\r\n```\r\n\r\n\r\n\r\n## 집계함수\r\n\r\n```sql\r\n--집계함수\r\nselect ename, round(sal) from emp;\r\n\r\nselect ename, avg(sal) from emp; --안됨.\r\n\r\nselect avg(sal) from emp;\r\n\r\nselect round(avg(sal)) \"전체 평균급여\" from emp;\r\n\r\nselect round(avg(sal))|| '원' from emp;\r\n\r\nselect deptno, round(avg(sal)) from emp group by deptno;\r\n--집계함수에서는 group by로 들어간 아이만 select 절에 들어갈 수 있다.\r\n\r\nselect dname, avg(sal), count(*), min(sal), max(sal), count(mgr)\r\nfrom emp\r\nright join dept\r\non emp.deptno = dept.deptno\r\ngroup by dname\r\norder by dname;\r\n\r\n--부서번호, 부서이름, 부서평균급여, 부서에 있는 사람수, 부서별 최소,최대 월급\r\nselect e.deptno, dname, avg(sal), count(*), min(sal), max(sal)\r\nfrom emp e, dept d\r\nwhere e.deptno = d.deptno\r\ngroup by e.deptno, dname;\r\n\r\n\r\n--group by 이후 조건을 주는것이 having 절\r\n***************\r\nselect\r\nfrom\r\nwhere\r\ngroup by\r\nhaving\r\norder by\r\n***************\r\n\r\n--평균 급여가 2000이상인 사람.\r\nselect e.deptno, dname, round(avg(sal)) \"평균급여\"\r\nfrom emp e, dept d\r\nwhere e.deptno = d.deptno\r\ngroup by e.deptno, dname\r\nhaving avg(sal) > 2000;\r\n```\r\n\r\n\r\n\r\n## subQuery\r\n\r\n```sql\r\n--subQuery\r\n--Ford 보다 급여가 많은 사원 목록\r\n\r\nselect sal from emp where ename = 'FORD';\r\n\r\nselect * from emp where sal > 3000;\r\n\r\nselect * \r\nfrom emp\r\nwhere sal > (select sal from emp where ename = 'FORD');\r\n\r\n\r\n-- 전체 평균 급여보다 적게 받는 사원 목록\r\nselect ename, sal\r\nfrom emp\r\nwhere sal < (select avg(sal) from emp);\r\n\r\nselect ename, sal\r\nfrom emp\r\nwhere sal = (select min(sal) from emp);\r\n\r\n-- 부서별 최고 급여를 받는 사원 목록\r\n\r\nselect ename, sal, max(sal)\r\nfrom emp e\r\njoin dept\r\non e.deptno = dept.deptno\r\ngroup by e.deptno;\r\n\r\n\r\n--부서별 최고 급여 받는 사원\r\nselect *\r\nfrom emp\r\nwhere sal in (select max(sal) from emp group by deptno);\r\n\r\nselect *\r\nfrom emp\r\nwhere (deptno, sal) in (select deptno, max(sal) from emp group by deptno)\r\norder by deptno;\r\n\r\n\r\n*************\r\n-- rownum: 자동적으로 1~n 개의 수가 column에 주어짐.\r\n*************\r\n\r\nselect ename, job, sal\r\nfrom emp;\r\n\r\nselect rownum, ename, job, sal\r\nfrom emp;\r\n\r\nselect rownum, ename, job, sal\r\nfrom emp\r\norder by sal;\r\n\r\nselect rownum, ename, job, sal\r\nfrom (select * from emp order by sal);\r\n\r\n--급여 top 3\r\nselect rownum, ename, job, sal\r\nfrom (select * from emp order by sal desc)\r\nwhere rownum < 4;\r\n\r\nselect rownum, ename, job, sal\r\nfrom (select * from emp order by sal desc)\r\nwhere rownum between 6 and 10; --rownum 은 1부터 시작하는 경우가 아니니 작동하지 않음.\r\n\r\n--oracle page 처리\r\n\r\nselect *\r\nfrom (\r\n\tselect rownum row#, ename, job, sal\r\n\tfrom (select * from emp order by sal desc)\r\n)\r\nwhere row# between 6 and 10;\r\n--rownum을 먼저 생성한후 그것을 row#으로 받고 그다음 그 목록에서 6~10의 수를 보여줌.\r\n```\r\n\r\n","fields":{"slug":"/database-post-03/"},"frontmatter":{"title":"데이터베이스 정리 -03","published":true}}},{"node":{"rawMarkdownBody":"\r\n## 시작하기에 앞서\r\n\r\nOracle Database를 활용하여 데이터베이스 기초를 배우고 있는 중이다. 다양한 Select, join, 집계함수, subQuery에 대해서 학습하고 정리해본 내용이다.\r\n\r\n\r\n\r\n## where & order by\r\n\r\n* 기본적으로 SCOTT/TIGER에서 진행하였다.\r\n\r\n```sql\r\n--where 절에서는 as 사용 x\r\nselect ename,sal,comm,sal+nvl(comm,0) as \"총급여\"\r\nfrom emp\r\nwhere sal + nvl(comm, 0) >= 2000;\r\n\r\n--정렬\r\nselect ename,sal,comm,sal+nvl(comm,0) as \"총급여\"\r\nfrom emp\r\norder by sal;\r\n--셀값만 준다면 기본적으로는 오름차순 (asc인데 생략가능)\r\n\r\nselect ename,sal,comm,sal+nvl(comm,0) as \"총급여\"\r\nfrom emp\r\norder by sal desc;\r\n--desc는 내림차순\r\n\r\nselect ename,sal,comm,sal+nvl(comm,0) as \"총급여\"\r\nfrom emp\r\norder by sal asc, comm desc;\r\n--각각 조건도 가능.\r\n\r\nselect ename, sal, sal + nvl(comm, 0) as \"총급여\"\r\nfrom emp\r\nwhere comm is null\r\norder by sal;\r\n--is null is not null로도 사용가능.\r\n\r\nselect ename, sal, sal + nvl(comm, 0) as \"총급여\"\r\nfrom emp\r\nwhere comm is null\r\norder by \"총급여\";\r\n```\r\n\r\n\r\n\r\n## 단일행 함수(dual)\r\n\r\n```sql\r\n-- 단일행 함수\r\nselect dname, lower(dname), loc, lower(loc)\r\nfrom dept;\r\n\r\nselect round(44.55), round(44.55,1), trunc(44.55) \r\nfrom dual;\r\n--round 반올림, 몇번째 짜리까지 반올림, 소수점 잘림.\r\n\r\nselect sal, sal*0.03 as \"TAX\"\r\nfrom emp;\r\n--기본적인 연산도 가능하다.\r\n\r\n--어디서부터 시작해서 몇개 나오는지\r\nselect ename, hiredate, substr(hiredate,4,2)\r\nfrom emp\r\nwhere substr(hiredate,4,2) like 12;\r\n\r\n--날짜에 관련된 함수와 형식변환\r\nselect sysdate ,substr(sysdate,4,2) from dual;\r\n\r\nselect sysdate , to_char(sysdate, 'YY') from dual;\r\nselect sysdate , to_char(sysdate, 'YYYY') from dual;\r\nselect sysdate , to_char(sysdate, 'MM') from dual;\r\nselect sysdate , to_char(sysdate, 'day') from dual;\r\nselect sysdate , to_char(sysdate, 'mm') from dual;\r\nselect sysdate , to_char(sysdate, 'dd') from dual;\r\n\r\n--emp에서 사원들의 사원명, 입사월, 요일 정보를 출력하세요.\r\nselect ename, to_char(hiredate,'mm') as \"입사월\", to_char(hiredate,'day') as \"입사 요일\"\r\nfrom emp\r\norder by \"입사월\";\r\n\r\nselect sysdate, to_date('2019/12/24') from dual;\r\nselect sysdate, to_date('2019-12-24') from dual;\r\nselect sysdate, to_date('29 12 24', 'dd-mm-yy') from dual;\r\n\r\n-- decode 함수\r\n--decode(어디에서,몇번째,해줄것, 몇번재, 해줄것)\r\nselect ename, sal, deptno, decode(deptno, 10, sal*1.2, 20, sal* 0.7) as \"보너스\"\r\nfrom emp\r\norder by deptno;\r\n```\r\n\r\n\r\n\r\n---\r\n\r\n\r\n\r\n## join\r\n\r\n> join은 두 개의 상관있는 테이블을 연결하여 서로의 테이블에서 데이터를 가져올 때 사용된다.\r\n\r\n```sql\r\nselect ename,dname,loc\r\nfrom emp,dept\r\nwhere EMP.DEPTNO = dept.deptno;\r\n--두 개의 테이블이 어떤 관계인지 정의내려줘야한다.\r\n\r\nselect ENAME, EMP.DEPTNO, DNAME, LOC\r\nfrom EMP,DEPT\r\nwhere EMP.DEPTNO = DEPT.DEPTNO;\r\n\r\nselect ename, e.deptno,dname,loc\r\nfrom emp e, dept d\r\nwhere e.deptno = d.deptno;\r\n\r\n--sal > 2000 크면서 deptno가 20인 사원의 이름, sal loc 출력\r\nselect ename, sal, loc\r\nfrom emp e, dept d\r\nwhere e.DEPTNO = d.DEPTNO and e.SAL > 2000 and e.DEPTNO = 20;\r\n\r\n*********************\r\n-- Ansi join 표준(맘대로 하면 복잡하니 표준을 만들자) : , => (inner) join where => on\r\n*********************\r\n\r\n--inner join 둘의 공통\r\nselect ename, sal, loc\r\nfrom emp e join dept d\r\non e.deptno = d.deptno\r\nwhere sal > 2000 and e.deptno = 20;\r\n\r\n--outer join\r\n--Oracle\r\n--null 쪽에 + 마킹 : +가 있는 쪽에 있는 모든걸 보여준다 null 이여도.\r\nselect ename, d.deptno, dname, loc\r\nfrom emp e, dept d\r\nwhere e.deptno(+) = d.deptno;\r\n\r\n--Ansi join\r\n-- right 쪽이 테이블이 마스터가 된다. \r\n-- 기준이 교집합에서 오른쪽이 다 차있는 교집합이라고 생각하면 될듯 .\r\nselect ename, d.deptno, dname, loc\r\nfrom emp e right outer join dept d\r\non e.deptno = d.deptno;\r\n\r\n***********************\r\n-- non equi join\r\n***********************\r\n\r\nselect * from salgrade;\r\n\r\n-- oracle join\r\nselect ename,sal,grade\r\nfrom emp, salgrade\r\nwhere sal between losal and hisal;\r\n\r\n\r\n--ansi join\r\nselect ename, sal, grade\r\nfrom emp join salgrade\r\non sal between losal and hisal;\r\n\r\n\r\n*****************\r\n-- n개의 테이블 join\r\n*****************\r\n-- 사원명, sal, 부서이름, salgrade\r\n\r\n--oracle\r\nselect ename, sal, dname, grade\r\nfrom emp, dept, salgrade\r\nwhere emp.deptno = dept.deptno and sal between losal and hisal;\r\n\r\n\r\n-- ansi join\r\nselect ename, sal, dname, grade\r\nfrom emp \r\n\tjoin dept\r\n\ton emp.deptno = dept.deptno\r\n\tjoin salgrade\r\n\ton sal between losal and hisal \r\nwhere sal > 1500;\r\n\r\n******************\r\n-- oracle self join\r\n******************\r\n-- 사원의 이름과 그 사원의 상사 이름 출력\r\nselect e.ename, m.ename\r\nfrom emp e, emp m\r\nwhere e.mgr = m.empno;\r\n\r\nselect e.ename, m.ename\r\nfrom emp e, emp m\r\nwhere e.mgr = m.empno(+);\r\n\r\n-- 상사보다 월급을 더 많이 받는 직원\r\nselect e.ename, m.ename, e.sal, m.sal\r\nfrom emp e, emp m\r\nwhere e.mgr = m.empno(+) and e.sal > m.sal;\r\n\r\n--ansi left와 right 는 outer 생략가능. \r\nselect e.ename, m.ename\r\nfrom emp e join emp m\r\non e.mgr = m.empno;\r\n\r\n\r\nselect e.ename \"사원명\", e.sal, m.ename \"상사이름\", m.sal\r\nfrom emp e \r\njoin emp m\r\non e.mgr = m.empno\r\nwhere e.sal >= m.sal;\r\n```\r\n\r\n\r\n\r\n## 집계함수\r\n\r\n```sql\r\n--집계함수\r\nselect ename, round(sal) from emp;\r\n\r\nselect ename, avg(sal) from emp; --안됨.\r\n\r\nselect avg(sal) from emp;\r\n\r\nselect round(avg(sal)) \"전체 평균급여\" from emp;\r\n\r\nselect round(avg(sal))|| '원' from emp;\r\n\r\nselect deptno, round(avg(sal)) from emp group by deptno;\r\n--집계함수에서는 group by로 들어간 아이만 select 절에 들어갈 수 있다.\r\n\r\nselect dname, avg(sal), count(*), min(sal), max(sal), count(mgr)\r\nfrom emp\r\nright join dept\r\non emp.deptno = dept.deptno\r\ngroup by dname\r\norder by dname;\r\n\r\n--부서번호, 부서이름, 부서평균급여, 부서에 있는 사람수, 부서별 최소,최대 월급\r\nselect e.deptno, dname, avg(sal), count(*), min(sal), max(sal)\r\nfrom emp e, dept d\r\nwhere e.deptno = d.deptno\r\ngroup by e.deptno, dname;\r\n\r\n\r\n--group by 이후 조건을 주는것이 having 절\r\n***************\r\nselect\r\nfrom\r\nwhere\r\ngroup by\r\nhaving\r\norder by\r\n***************\r\n\r\n--평균 급여가 2000이상인 사람.\r\nselect e.deptno, dname, round(avg(sal)) \"평균급여\"\r\nfrom emp e, dept d\r\nwhere e.deptno = d.deptno\r\ngroup by e.deptno, dname\r\nhaving avg(sal) > 2000;\r\n```\r\n\r\n\r\n\r\n## subQuery\r\n\r\n```sql\r\n--subQuery\r\n--Ford 보다 급여가 많은 사원 목록\r\n\r\nselect sal from emp where ename = 'FORD';\r\n\r\nselect * from emp where sal > 3000;\r\n\r\nselect * \r\nfrom emp\r\nwhere sal > (select sal from emp where ename = 'FORD');\r\n\r\n\r\n-- 전체 평균 급여보다 적게 받는 사원 목록\r\nselect ename, sal\r\nfrom emp\r\nwhere sal < (select avg(sal) from emp);\r\n\r\nselect ename, sal\r\nfrom emp\r\nwhere sal = (select min(sal) from emp);\r\n\r\n-- 부서별 최고 급여를 받는 사원 목록\r\n\r\nselect ename, sal, max(sal)\r\nfrom emp e\r\njoin dept\r\non e.deptno = dept.deptno\r\ngroup by e.deptno;\r\n\r\n\r\n--부서별 최고 급여 받는 사원\r\nselect *\r\nfrom emp\r\nwhere sal in (select max(sal) from emp group by deptno);\r\n\r\nselect *\r\nfrom emp\r\nwhere (deptno, sal) in (select deptno, max(sal) from emp group by deptno)\r\norder by deptno;\r\n\r\n\r\n*************\r\n-- rownum: 자동적으로 1~n 개의 수가 column에 주어짐.\r\n*************\r\n\r\nselect ename, job, sal\r\nfrom emp;\r\n\r\nselect rownum, ename, job, sal\r\nfrom emp;\r\n\r\nselect rownum, ename, job, sal\r\nfrom emp\r\norder by sal;\r\n\r\nselect rownum, ename, job, sal\r\nfrom (select * from emp order by sal);\r\n\r\n--급여 top 3\r\nselect rownum, ename, job, sal\r\nfrom (select * from emp order by sal desc)\r\nwhere rownum < 4;\r\n\r\nselect rownum, ename, job, sal\r\nfrom (select * from emp order by sal desc)\r\nwhere rownum between 6 and 10; --rownum 은 1부터 시작하는 경우가 아니니 작동하지 않음.\r\n\r\n--oracle page 처리\r\n\r\nselect *\r\nfrom (\r\n\tselect rownum row#, ename, job, sal\r\n\tfrom (select * from emp order by sal desc)\r\n)\r\nwhere row# between 6 and 10;\r\n--rownum을 먼저 생성한후 그것을 row#으로 받고 그다음 그 목록에서 6~10의 수를 보여줌.\r\n```\r\n\r\n","fields":{"slug":"/database-post-02/"},"frontmatter":{"title":"데이터베이스 정리 -02","published":true}}},{"node":{"rawMarkdownBody":"\r\n## 시작하기 앞서서\r\n\r\n멀티캠퍼스 데이터베이스 수업시간에 Oracle 데이터베이스를 활용하는 수업을 진행하였다. 처음으로 배우는 데이터베이스다 보니 뭔가 개념적으로 확실하게 이해되는 것이 좀 부족했던 것 같아 집에서 더 공부를 하고자 노트북을 키게 됐다. 그러나... 내가 사용하는 맥북에서는 Oracle 데이터베이스 설치가 바로는 불가하다는 것을 알게되었다...\r\n\r\n\r\n\r\n## Docker\r\n\r\n그래서 구글링 결과! Docker라는 것을 통해 설치를 할 수 있다는 것을 알게되었고 바로 시도하기로 하였다. 여기서 Docker란 컨테이너 기반의 오픈소스 가상화 플랫폼으로 실행 환경에 상관없이 동일한 환경을 제공해주는(?) 아주 편리한 녀석인 것 같았다. 지금 나의 상황으로는 컨테이너 기반은 뭔지.. 또 이게 어떻게 동작하는지 잘 알 수 없기에 후에 공부하고 알게되면 그 때 또 포스트를 작성하도록 하겠다.\r\n\r\n먼저 [Docker 홈페이지](https://hub.docker.com/editions/community/docker-ce-desktop-mac)로 접속하여 가입 후 다운을 받았고 실행까지 성공하였다. 실행을 하고 나면 이제 터미널에서 docker 명령어들을 사용가능한데 터미널에서 **docker search oracle-xe-11g** 를 입력하여 다운로드할 이미지들을 검색하였다.![image-20191225222855710](images/image-20191225222855710.png)\r\n\r\n나는 [여기](https://whitepaek.tistory.com/40)블로그를 보면서 했기 때문에 똑같이 **jaspeen/oracle-xe-11g**를 다운 받아 진행하였고 \r\n\r\n**docker run --name oracle11g-test -d -p 8080:8080 -p 1521:1521 jaspeen/oracle-xe-11g** 이 명령어를 통해 docker에서 컨테이너 생성과 실행을 할 수 있었다.\r\n\r\n그 후 **docker exec -it oracle11g-test sqlplus** 입력으로 오라클 데이터베이스 실행을 성공할 수 있었다! 아마 나보다는 위에 설명해놓은 블로그가 더 예쁘고 자세히 설명해 놓았으니.. 저걸 보고 따라하는게 더 좋을 것 같기도 하다.\r\n\r\n정지 후 다시 시작할때는 **docker start oracle11g-test** 으로 docker에서 실행한 후 진행 할 수 있으면 될 것 같다.\r\n\r\n\r\n\r\n## Eclipse에서의 Oracle Databas연동\r\n\r\n그 후에 나머지 SQL devloper라던가.. 나머지 환경 설정은 쉽게 할 수 있었다. 하지만.. 이클립스에서 바로바로 확인 할 수 있는 환경을 하기 위해서는 또 다른 설정이 필요하였다. 먼저 [이곳](https://www.oracle.com/database/technologies/jdbcdriver-ucp-downloads.html) 에서 ojdbc6.jar 를 다운 받고 시작하자.\r\n\r\n도커와 다른 설정을 마쳤으면 이클립스에서의 Perspective 를 java EE로 설정해주자.![image-20191225224439918](images/image-20191225224439918.png)\r\n\r\n그 후 아래의 DataSource Explorer에 있는 Database Connections에서 하나를 생성하자.![Eclipse_oracle](images/Eclipse_oracle.png)\r\n\r\n후에 창에서 Driver 칸 옆에 있는 톱니바퀴를 클릭하자. 제 Theme 에서는 노란색 파인애플 처럼 생겼군요.\r\n\r\n![image-20191225224819896](images/image-20191225224819896.png)\r\n\r\n그 다음 Oracle Thin Driver 버전 11를 선택하고 jar List에 있는 것을 모두 삭제하고 처음 받았던 ojdbc6.jar를 추가하고 User name과 Password를 적고 Test Connection후 성공이 나온다면 데이터베이스 공부를 시작하도록 하자!! 참고로 포트 번호는 글마다 다르던데 처음에 docker에서 명령어 사용으로 다르게 설정하거나 그럴 수 있는 것 같다.\r\n\r\n> 나라가 이상하다고 나오는 경우가 있는데 그럴때는 시스템 환경설정에서 언어 및 지역을 미국으로 바꾸고 다시 한국으로 한다음 껐다가 키고 다시 하면 된다는 소리가 있다. SQL developer에서도 마찬가지로..","fields":{"slug":"/mac-oracle/"},"frontmatter":{"title":"Mac에서 Oracle Database 사용하기","published":true}}},{"node":{"rawMarkdownBody":"\r\n\r\n## 시작하기에 앞서\r\n\r\n멀티캠퍼스에서 데이터베이스 관련 수업이 시작되었다. \r\n처음 배우는 데이터베이스지만 과거에 부스트코스 안드로이드 프로그래밍을 하면서 다뤄봤던 적이 있던 주제였다. 그 때 당시에는 따라 쓰기에 급급하고 매번 구글링으로만 해결하던 문제들을 이해하도록 노력해보자!\r\n\r\n\r\n\r\n## 환경설정\r\n\r\n* [Database 18c Express Edition](https://www.oracle.com/database/technologies/xe-downloads.html) 이전버전 다운로드.\r\n\r\n* [SQL Developer](https://www.oracle.com/tools/downloads/sqldev-downloads.html) 써도 되지만 이클리스에서 제공함. \r\n\r\n  자바 환경이 구축된 공간에서는Windows 64-bit with JDK 8 included 으로 돌리는게 편함 .\r\n\r\n\r\n\r\n\r\n## 생성과 실행\r\n\r\n* 관리자 계정 접속.\r\n\r\n```bash\r\nC:\\Users\\student>sqlplus system/password\r\n\r\n\r\nSQL*Plus: Release 11.2.0.2.0 Production on 월 12월 23 10:10:49 2019\r\n\r\nCopyright (c) 1982, 2010, Oracle.  All rights reserved.\r\n\r\n\r\nConnected to:\r\nOracle Database 11g Express Edition Release 11.2.0.2.0 - Production\r\n\r\nSQL>\r\n```\r\n\r\n>  잘된예시\r\n\r\n\r\n\r\n* hr/hr에 접근하려 하지만 락이 걸려있음. 접근하기 위해서는 관리자에서 락을 풀어줘야한다.\r\n\r\n```sql\r\nSQL> conn hr/hr\r\nERROR:\r\nORA-28000: the account is locked\r\n\r\nalter user hr identified by hr account unlock;\r\n--락을 풀어주는 부분\r\n```\r\n\r\n\r\n\r\n* TABLESPACE 생성\r\n\r\n```sql\r\ncreate TABLESPACE <NAME>\r\ndatafile 'C:\\oraclexe\\app\\oracle\\oradata\\XE\\<NAME>.dbf'\r\nsize 10M\r\nautoextend on next 1M maxsize UNLIMITED;\r\n--TABLESPACE를 만드는 부분이다.\r\n```\r\n\r\n> C:\\oraclexe\\app\\oracle\\oradata\\XE :실질적인 데이터가 들어있는 디렉토리.\r\n>\r\n> 테이블 스페이스 : 어떠한 계정에 들어갈 데이터들의 공간. \r\n>\r\n> 테이블을 만들면 실질적인 데이터 들은 oradata로 들어간다.\r\n\r\n\r\n\r\n```sql\r\ncreate user <NAME> identified by <PASSWORD> \r\n--계정이름고 비밀번호 정하기.\r\ndefault TABLESPACE <FILENAME>; \r\n--기본값일 파일 이름 안해줄시 system에 연결이 되어버린다..\r\n```\r\n\r\n오라클에서 계정을 만들고 default 값을 설정하지않으면 시스템영역을 사용해버림.  주의하자.\r\n\r\n\r\n\r\n> 오라클에서 계정은 스키마라고 부릅니다.  SQL에서는 데이터베이스를 말하는 부분.\r\n\r\n> 정규화과정 = 테이블을 쪼개는 것. 중복되는 데이터들을 뽑아내서 테이블을 만드는것.\r\n\r\n\r\n\r\n## 권한과 삭제\r\n\r\n```sql\r\ngrant connect,resource,dba to test01; \r\n--권한부여 권한없이 접근할경우 접근되지않음.\r\n\r\nrevoke dba from test01; \r\n--dba 권한만 뺏음. 커넥트 권한은 있음.\r\nrevoke connect from test01;\r\n--connect 권한마저 뺏어버림\r\n\r\ndrop user test01 cascade; \r\n--test01 삭제 뒤의 cascade 는 강제성을줌\r\n\r\n```\r\n\r\n\r\n\r\n## SELECT와 관련된 명령문\r\n\r\n```sql\r\ndesc emp;\r\n--emp의 구조를 보여주세요.\r\n\r\nselect distinct job\r\nfrom emp; \r\n--distinct 중복제거.\r\n\r\n\r\nselect sal, sal*12\r\nfrom emp;\r\n--연산식도 사용가능.\r\n\r\nselect sal, sal*12 as \"연봉\"\r\nfrom emp; \r\n--연산식의 이름을 설정도 가능. 유일하게 `\"`을 사용. 나머지는 다`'`으로 사용한다.\r\n\r\nselect ename, job, sal, comm,  sal+comm as \"실급여\", **nvl(comm, -1)**\r\nfrom emp; \r\n--nvl = null 이라면 -1 이라는 값으로 바꿔줘. oracle 함수임.\r\n\r\nselect empno, ename, nvl(to_char(mgr), `'<<CEO>>'`) as \"매니저 코드\"\r\nfrom emp;\r\n--nvl 을 사용할때는 컬럼의 타입을 잘 확인해야함.  desc로 잘 확인하여 맞춰주자.\r\n\r\nselect ename, job, ename||'  '||job\r\nfrom emp;  \r\n--|| 문자열 연결.\r\n\r\nselect 20\\*20\\*4\r\nfrom dual; \r\n--`dual`가상의 테이블로 값을 확인.\r\n\r\nselect sysdate\r\nfrom dual; \r\n--날짜정보.\r\n\r\nselect user\r\nfrom dual; \r\n--로그인한 유저의 정보.\r\n\r\nselect empno, ename, nvl(to_char(mgr), '<<CEO>>') as \"매니저 코드\"\r\nfrom emp;\r\n--nvl 로 null 형식의 값을 초기화시켜준다.\r\n\r\nselect ename, job, ename||'  '||job\r\nfrom emp;\r\n--문자열 삽입\r\n\r\nselect 20*20*4\r\nfrom dual;\r\n--간단한 값 표시. 가상공간 dual을 사용\r\n\r\n--row 제한을 걸때 where 절\r\nselect ename, job, deptno\r\nfrom emp\r\nwhere job = 'MANAGER';\r\n\r\n--대문자로 통일\r\nselect ename, job, deptno\r\nfrom emp\r\nwhere upper(job) = upper('manager');\r\n\r\nselect ename, hiredate\r\nfrom emp\r\nwhere hiredate >= '82/01/01';\r\n\r\n\r\nselect ename, hiredate\r\nfrom emp\r\nwhere hiredate <> '82/01/23';\r\n-- <>은 != 의 의미이다.\r\n\r\nselect ename, sal \r\nfrom emp\r\nwhere sal >=2450 AND sal < 3000;\r\n--between and = between 은 =이 포함된다. 작은값이 꼭 앞에 오기.\r\n\r\nselect ename, sal \r\nfrom emp\r\nwhere sal BETWEEN 2450 AND 3000;\r\n\r\n\r\nselect ename, job, deptno\r\nfrom emp\r\nwhere deptno = 10 or deptno = 20;\r\n\r\n--in 연산자\r\nselect ename, job, deptno\r\nfrom emp\r\nwhere deptno in (10,20);\r\n\r\nselect *\r\nfrom dept\r\nwhere (deptno,loc) in ((20, 'DALLAS'), (30, 'CHICAGO'));\r\n\r\n-- like 연산자\r\n--A로 시작\r\nselect *\r\nfrom emp\r\nwhere ename like 'A%';\r\n\r\n--A로 끝나냐\r\nselect *\r\nfrom emp\r\nwhere ename like '%A';\r\n\r\n--A가 포함\r\nselect *\r\nfrom emp\r\nwhere ename like '%A%';\r\n\r\n--A가 포함되긴 하는데 뒤에서 세번째\r\nselect *\r\nfrom emp\r\nwhere ename like '%A__';\r\n\r\n--81년도에 입사한 사원 목록.\r\nselect *\r\nfrom emp\r\nwhere hiredate like '%81%';\r\n\r\n--쓰레기값을 날려보자\r\nSQL> purge recyclebin;\r\n```\r\n\r\n### SQL 명령어 분류\r\n\r\n- Query : SELECT\r\n- DML : INSERT, UPDATE, DELETE (롤백이 여지가 있음.)\r\n- Transaction Control : COMMIT, ROLLBACK\r\n- DDL : CREATE, DROP, TRUNCATE, ALTER (**롤백의 여지가 없다.**)\r\n- DCL : GRANT, REVOKE\r\n\r\n\r\n\r\n## 제약조건\r\n\r\n|    종류     | 예제                                                         |\r\n| :---------: | ------------------------------------------------------------ |\r\n| PRIMARY-KEY | 하나의 행에서 그행을 대표하는 컬럼이며 FOREIGN-KEY 칼럼이 참조하는 칼럼은 반드시 PRIMARY-KEY 칼럼이여야 한다. |\r\n| FOREIGN-KEY | 입력되어야 할 값이 다른 테이블의 PRIMARY-KEY 칼엄의 값인 컬럼 |\r\n|   UNIQUE    | 칼럼의 값이 테이블 전체에서 **유일**한 값.                   |\r\n|  NOT NULL   | 칼럼에 NULL 값이 입력되어서는 안되는 경우                    |\r\n|    CHECK    | 임의의 제약조건을 추가한다.                                  |\r\n\r\n\r\n\r\n\r\n> 처음 시작시 데이터베이스의 생성(oracle에서는 스키마 생성)과  흐름을 이해하는게 부족한 것 같다. \r\n>\r\n> 특히 select 문의 like 부분은 한번씩 와서 확인할 수 있도록 해보자. 나중에 도움이 될것같다.\r\n>\r\n> <<<<<<< HEAD\r\n> =======\r\n\r\n\r\n\r\n## 환경설정\r\n\r\n* [Database 18c Express Edition](https://www.oracle.com/database/technologies/xe-downloads.html) 이전버전 다운로드.\r\n\r\n* [SQL Developer](https://www.oracle.com/tools/downloads/sqldev-downloads.html) 써도 되지만 이클리스에서 제공함. \r\n\r\n  자바 환경이 구축된 공간에서는Windows 64-bit with JDK 8 included 으로 돌리는게 편함 .\r\n>>>>>>> d4f525ef8f2adbde4816c829181cea3e98f9d3de\r\n","fields":{"slug":"/database-post-01/"},"frontmatter":{"title":"데이터베이스 정리 -01","published":true}}},{"node":{"rawMarkdownBody":"\r\n## 시작하기에 앞서\r\n\r\n파이썬에서 웹 크롤링하는 것에 대한 정리이다. `bs4` `flask` `jinja` 등 다양한 라이브러리를 사용하면서 진행해보았다.\r\n\r\n\r\n\r\n## requests\r\n\r\n* URL에 요청을 보내고 그에 맞는 응답을 해석하고 크롤링 해보았다.\r\n\r\n```python\r\n'''\r\n1. request > naver.com\r\n2. response > bs4\r\n3. webbroser\r\n\r\n'''\r\nimport requests\r\nfrom bs4 import BeautifulSoup as bs\r\nimport webbrowser\r\n\r\nurl = \"https://www.naver.com\"\r\nrequests.get(url)\r\nresponse = requests.get(url).text\r\n\r\n#\"html.parser\" : 받아올 형식을 의미함. \r\ndoc = bs(response, 'html.parser')\r\n\r\n# . > class\r\n# # > id\r\n# result = doc.select_one(\".ah_k\")\r\n\r\n#\".ah_k\"로 끝나는 클래스에서의 값을 리스트 형태로 모조리 받아온다. 하나 받으려면 select_one\r\nresult = doc.select(\".ah_k\")\r\n\r\nsearch_url = \"https://search.naver.com/search.naver?query=\"\r\nfor i in range(5): \r\n    # 실시간 검색어 다섯개를 받아. 새로운 브라우저를 띄워보았다.\r\n    webbrowser.open(search_url + result[i].text)\r\n    # print(result[i].text)\r\n\r\n```\r\n\r\n\r\n\r\n## flask\r\n\r\n* 이번에는 요청이 왔을 때 그것에 맞는 응답을 보여주는 것이다.\r\n\r\n   flask 라이브러리를 사용해서 간단하게 서버를 구성해보았다.\r\n\r\n**app.py**\r\n\r\n```python\r\nfrom flask import Flask, render_template, request\r\nimport random\r\nimport datetime\r\n\r\napp = Flask(__name__) \r\n#서버의 이름을 app으로 하겠다.\r\n#파일이름도 똑같게 app으로 하면 명령어 flask run으로 만으로도 동작가능하다.\r\n\r\n\r\n#url을 관리해주는 친구 > @시작하는 @app.route(\"/\")\r\n\r\n\r\n@app.route(\"/\")\r\ndef hello():\r\n    return \"안녕!!\"\r\n\r\n@app.route(\"/dday\")\r\ndef dday():\r\n    today = datetime.datetime.now()\r\n    final = datetime.datetime(2020, 6, 9)\r\n    result = final - today\r\n    #f 문자열 포맷방법 파이썬에서 매우 유용하게 쓰이는것 같다.\r\n    #리턴값은 무엇무엇 오는지는 모르겠지만 string 타입이여야 하는것 같다.\r\n    return f\"힘을 내야 하는 날이 {result.days}일 남았습니다.\"\r\n\r\n@app.route(\"/lotto\")\r\ndef lotto():\r\n    numbers = random.sample(range(1,46), 6)\r\n    return f\"{numbers}\"\r\n\r\n##오늘이 크리스마스인지 알려준다!\r\n@app.route(\"/christmas\")\r\ndef christmas():\r\n    now = datetime.date.today()\r\n    today = datetime.datetime.now()\r\n\r\n    print(today.date().strftime(\"%y년 %m월 %d일\"))\r\n    if now.month == 12 and now.day == 25:\r\n        return \"크리스마스에요!\"\r\n    else :\r\n        return \"<h1>아니에요 열심히 기다려봐요<h1>\"\r\n\r\n@app.route(\"/movies\")\r\ndef movies():\r\n    movies = [\"겨울왕국2\", \"클라우스\", \"어바웃 타임\", \"나홀로 집에2\", \"이터널선샤인\", \"반지의 제왕\"]\r\n    return render_template(\"movie.html\", movies = movies) \r\n##앞 movies가 html 쪽 movies 뒤에는 어떤 리스트를 보낼지.\r\n\r\n\r\n@app.route(\"/greeting/<name>\")\r\ndef greeting(name):\r\n    return f\"안녕하세요 {name}님!\"\r\n\r\n@app.route(\"/cube/<int:num>\")\r\ndef cube(num):\r\n    result = num ** 3\r\n    return str(result)\r\n\r\n'''\r\ndef render_template(str, **args) :\r\n    *이 있으면 파이썬에서는 가변적인 개수가 들어가도 상관없다.\r\n'''\r\n\r\n\r\n# 식사 메뉴 추천.\r\n# 1. random\r\n# 2. Dynamic route: @app.route(\"/lunch/1 2 3 4\")\r\n# - 숫자를 받아서 명수 개수 만큼 \r\n# - List : 자장면, 짬뽕, 오므라이스, 볶음밥, 고추잡채, 탕수육, 돈까스, \r\n# - <int:num> 숫자 만큼 뽑기\r\n\r\n@app.route(\"/lunch/<int:num>\")\r\ndef lunch(num):\r\n    lunches = [\"자장면\", \"짬뽕\", \"오므라이스\", \"볶음밥\", \"고추잡채\", \"탕수육\", \"돈까스\"]\r\n    #리스트 자체를 넣어줘서 랜덤으로 뽑아줄 수도 있다. 중복허용X\r\n    #중복을 허용하고 싶으면 choice로 뽑아주자.\r\n    lunch = random.sample(lunches,num)\r\n    return render_template(\"lunch.html\", lunches = lunches,people = num, pick_lunch = lunch)\r\n\r\n#render_template(\"lunch.html\", lunches = lunces)에서 먼저 폴더안에 templates라는 폴더안에\r\n#\"lunch.html\" 라는 파일이 있어야한다. 그리고 jinja 라이브러리로 아래의 html에 lunches에 py안의 lunches를 보내준다.\r\n\r\n\r\n\r\n#실행시 debug모드로 들어가 실시간 변화를 감지하게 도와준다.\r\nif __name__ == \"__main__\":\r\n    app.run(debug=True)\r\n```\r\n\r\n\r\n**lunch.html**\r\n```html\r\n<!DOCTYPE html>\r\n<html lang=\"ko\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\r\n    <title>점심 메뉴</title>\r\n</head>\r\n<body>\r\n    <h1>점심 메뉴 리스트</h1>\r\n    <ul>\r\n        {% for lunch in lunches %}\r\n            <li>{{lunch}}</li>\r\n        {% endfor %}\r\n    </ul>\r\n    <h1>가고자하는 인원 : {{people}}</h1>\r\n    <h1>뽑힌 점심 메뉴</h1>\r\n    {{pick_lunch}}\r\n</body>\r\n</html>\r\n```\r\n\r\n> jinja를 사용할때는 형식에 주의하자\r\n\r\n* 이번에는 웹에서 원하는 요청문을 보낸 후 그것에 맞는 웹을 만들어보자. ([vonvon](https://kr.vonvon.me/quiz/329)을 참고해서 만들어봤다.)\r\n\r\n**app.py**\r\n\r\n```python\r\n@app.route(\"/vonvon\")\r\ndef vonvon():\r\n    return render_template(\"vonvon.html\")\r\n\r\n@app.route(\"/godmademe\")\r\ndef godmademe():\r\n    #vonvon에서 보낸 \"name\"이라는 키값의 value 를 가져온다. \r\n    #여기서 request 라이브러리를 사용하는데 이름에 주의하자!\r\n    name = request.args.get(\"name\")\r\n    first_list = [\"잘생김\", \"어중간함\", \"덤벙거림\", \"착함\", \"찌질\", \"재력\", \"귀여움\"]\r\n    second_list = [\"애교\", \"힘\", \"용기\", \"지능\", \"센스\", \"식욕\", \"계획력\"]\r\n    third_list = [\"운\", \"행복\", \"긍정\", \"생기\", \"감성\", \"재수없음\", \"답답함\"]\r\n\r\n    #choice는 반환해주는 값이 string 이더라.\r\n    first = random.choice(first_list)\r\n    second = random.choice(second_list)\r\n    third = random.choice(third_list)\r\n\r\n    return render_template(\"godmademe.html\", name = name, first = first, second = second, third = third)\r\n```\r\n\r\n**vonvon.html**\r\n```html\r\n<!DOCTYPE html>\r\n<html lang=\"ko\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\r\n    <title>vonvon</title>\r\n</head>\r\n<body>\r\n    <h1> 신이 당신을 만들 때</h1>\r\n    <form action=\"/godmadeeme\">\r\n        <input type=\"text\" name=\"name\">\r\n        <input type=\"submit\">\r\n    </form>\r\n</body>\r\n</html>\r\n```\r\n\r\n> form 부분을 좀 더 공부해야겠다. 헷갈린다.\r\n\r\n**godmademe.html**\r\n\r\n```html\r\n<!DOCTYPE html>\r\n<html lang=\"ko\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\r\n    <title>신이 당신을 만들때는</title>\r\n</head>\r\n<body>\r\n    <h1>신이 <b>{{ name }}</b>을/를 만들 때...</h1>\r\n    <p> <b>{{ first }}</b>을 한 스푼~</p>\r\n    <p> <b>{{ second }}</b>도 넣어주고~</p>\r\n    <p> 그리고 <b>{{ third }}</b>도 조그....으어ㅡ아아ㅏ아ㅏㅏ</p>\r\n</body>\r\n</html>\r\n```\r\n\r\n\r\n\r\n\r\n* HTML 태그\r\n  * `ol` =순서가 있는 목록\r\n  * `ul` = 순서가 없는 목록\r\n\r\n\r\n\r\n### 참고링크\r\n\r\n* [jinja라이브러리](https://snacky.tistory.com/7)\r\n\r\n\r\n\r\n","fields":{"slug":"/python-post-02/"},"frontmatter":{"title":"파이썬 정리 -02","published":true}}},{"node":{"rawMarkdownBody":"\r\n## 시작하기에 앞서\r\n\r\n멀티캠퍼스 3주차 깃 특강중에 배웠던 파이썬을 정리해보자. \r\n\r\n정말 간단하게 배우고 있는 중이라 매우 기본적인 내용이 많다.\r\n\r\n\r\n\r\n## String\r\n\r\n```python\r\n# 1. 글자 합체\r\n\r\nname = \"happy\" + \" \" + \"hacking\"\r\n\r\n# 2. 글자 삽입\r\n\r\nfirst = \"tony\"\r\nage = 20\r\n\r\ntext = \"안녕하세요. 제 이름은 {}입니다. 나이는 {}입니다.\" .format(first, age)\r\n\r\n# 문자열을 5번째 까지 출력한다.\r\ntest_name = text[:5]\r\n# 문자열을 5번째 부터 뒤를 출력한다.\r\ntext_age = text[5:]\r\n\r\n# 문자열을 자르는데 변수를 넣어줘서 자를수 있다. 기본값은 공백 \r\ntext_split = text.split()\r\n```\r\n\r\n> 문자열을 출력할때는 음수도 사용가능하다. -1이면 뒤부터 시작!\r\n\r\n\r\n\r\n## List와 Dictionary\r\n\r\n```python\r\n# List\r\nmenus = [\"순남 시래기\", \"양자강\", \"20층...\"]\r\nphone_nums = [\"02-3441-5858\", \"02-3818-7588\", \"02-4343-9595\"]\r\n\r\n#추가하고 싶을때는 append를 사용하자!\r\n\r\n# Dictionary { key : value } Map과 비슷 하지만 key 가 중복은 안됨.\r\ndict_nums ={\r\n    \"순남 시래기\":\"02-3441-5858\",\r\n    \"양자강\" : \"02-3818-7588\",\r\n    \"20층\" : \"02-4343-9595\",\r\n}\r\n\r\nprint(dict_nums[\"순남 시래기\"]) #value 값이 나온다.\r\n\r\n```\r\n\r\n> `dictionary`는 중괄호를 사용해서 감싸준다!\r\n\r\n\r\n\r\n## if\r\n\r\n```python\r\nif dust > 150:\r\n    #앞의 네칸을 띄워줘야 문법이 제대로 작동한다.\r\n    print(\"매우 나쁨\") \r\nelif dust > 100:\r\n    print(\"나쁨\")\r\nelse:\r\n    print(\"적당함\")\r\n```\r\n\r\n\r\n\r\n## range\r\n\r\n```python\r\n#인수 1개 - 시작 숫자를 지정해 주지 않으면 range 함수는 0부터 시작한다.\r\nlist(range(5))\r\n[0, 1, 2, 3, 4]\r\n\r\n# 인수 2개 - 입력으로 주어지는 2개의 인수는 시작 숫자와 끝 숫자를 나타낸다.\r\n# 단, 끝 숫자는 해당 범위에 포함되지 않는다는 것에 주의하자.\r\nlist(range(5, 10))\r\n[5, 6, 7, 8, 9]\r\n\r\n# 인수 3개 - 세 번째 인수는 숫자 사이의 간격을 말한다.\r\nrange(1, 10, 3)\r\n[1, 4, 7]\r\n\r\nrange(20, 10, -2)\r\n[20, 18, 16, 14, 12]\r\n\r\n```\r\n\r\n\r\n\r\n## for\r\n\r\n```python\r\nmenus = [\"순남 시래기\", \"양자강\", \"20층...\", \"밥묵장\"]\r\n\r\n#menu 라는 변수에 menus에 있는 것을 한번씩 넣으면서 한번 순회한다.\r\nfor menu in menus:\r\n    print(menu)\r\n\r\n#i라는 변수에 0~4까지의 수를 넣으면서 한번 순회한다.\r\nfor i in range(4):\r\n    print(menus[i])\r\n\r\n    \r\n```\r\n\r\n> range 를 잘 사용하는 것이 후에 반복문에 큰 도움이 될 것 같다.","fields":{"slug":"/python-post-01/"},"frontmatter":{"title":"파이썬 정리 -01","published":true}}},{"node":{"rawMarkdownBody":"\r\n## 시작하기에 앞서\r\n\r\n깃 상태와 취소 그리고 Stash에 대해 알아보자.\r\n\r\n\r\n\r\n# Git status & undoing\r\n\r\n### git commit\r\n\r\n```bash\r\n#gogo.txt 를 생성하고 add하지 않고 commit 한 경우 \r\n$ git commit\r\nOn branch master\r\nYour branch is up to date with 'origin/master'.\r\n\r\nUntracked files:\r\n        gogo.txt\r\n\r\nnothing added to commit but untracked files present\r\n#gogo.txt를 해결해야함 해결한 후\r\n$ git commit\r\nOn branch master\r\nYour branch is up to date with 'origin/master'.\r\n\r\nnothing to commit, working tree clean\r\n```\r\n\r\n### git status\r\n\r\n1. add 한 이전\r\n\r\n```bash\r\n$ git status\r\nOn branch master\r\nYour branch is up to date with 'origin/master'.\r\n\r\n#add를 하지 않고 생성만 한 후 status 를 본 상황.\r\nUntracked files:\r\n  (use \"git add <file>...\" to include in what will be committed)\r\n        gogo.txt\r\n\r\nnothing added to commit but untracked files present (use \"git add\" to track)\r\n```\r\n\r\n2. add 한 이후\r\n\r\n```bash\r\n$ git status\r\nOn branch master\r\nYour branch is ahead of 'origin/master' by 1 commit.\r\n  (use \"git push\" to publish your local commits)\r\n\r\nChanges to be committed:\r\n  (use \"git restore --staged <file>...\" to unstage)\r\n        new file:   gogo.txt\r\n```\r\n\r\n### commit 메시지 작성하기 (메시지 없이 commit 한 경우)\r\n\r\n```bash\r\n$ git commit\r\n# Please enter the commit message for your changes. Lines starting\r\n# with '#' will be ignored, and an empty message aborts the commit.\r\n#\r\n# On branch master\r\n# Your branch is ahead of 'origin/master' by 1 commit.\r\n#   (use \"git push\" to publish your local commits)\r\n#\r\n# Changes to be committed:\r\n#       new file:   gogo.txt\r\n#빔 상황에 빠졌다!\r\n\r\n```\r\n\r\n* 편집(입력모드) :  단축키 `I`\r\n  * 문서 편집이 가능\r\n* 명령 모드 : `esc`\r\n  * `dd` : 라인삭제\r\n  * `wq`: 저장 및 종료 (`w:write` 저장 `q:quit` 종료)\r\n  * `q!` 강제 종료 (`q:quit`종료 `!`강제)\r\n\r\n> vim adventure 라는 게임을 통해 vim 을 학습 할수 있다. 시간이 나면 해보자\r\n>\r\n> [고고](https://vim-adventures.com/)\r\n\r\n\r\n\r\n### log\r\n\r\n> 커밋은 해시 값에 의해서 구분된다.\r\n>\r\n> (commit 옆의 값)\r\n\r\n```bash\r\n$ git log\r\ncommit 75767bea66848e61476fb098e1833d80449ee1cb (HEAD -> master)\r\nAuthor: choihwan2 <choihwan2@naver.com>\r\nDate:   Wed Dec 18 09:40:03 2019 +0900\r\n\r\n    Add a. txt\r\n\r\n    * a.txt 내용 추가\r\n    * blahblah\r\n#~~~밑에 줄줄줄\r\n\r\n$ git log -1\r\ncommit 75767bea66848e61476fb098e1833d80449ee1cb (HEAD -> master)\r\nAuthor: choihwan2 <choihwan2@naver.com>\r\nDate:   Wed Dec 18 09:40:03 2019 +0900\r\n\r\n    Add a. txt\r\n\r\n    * a.txt 내용 추가\r\n    * blahblah\r\n    \r\n$ git log -1 --oneline\r\n75767be (HEAD -> master) Add a. txt\r\n\r\n\r\n```\r\n\r\n> 좋은 commit 메시지를 위해 언제나 노력하자 다양한 회사 기술블로그를 참고하는게 좋음.\r\n>\r\n> [참고링크](https://meetup.toast.com/posts/106)\r\n\r\n### commit undoing\r\n\r\n\r\n\r\n1. 커밋 메시지 수정\r\n\r\n```bash\r\n$ git commit --amend\r\nAdd a. txt\r\n\r\n* a.txt 내용 추가\r\n* blahblah\r\n\r\n# Please enter the commit message for your changes. Lines starting\r\n# with '#' will be ignored, and an empty message aborts the commit.\r\n#\r\n# Date:      Wed Dec 18 09:40:03 2019 +0900\r\n#\r\n# On branch master\r\n# Your branch is ahead of 'origin/master' by 2 commits.\r\n#   (use \"git push\" to publish your local commits)\r\n#\r\n# Changes to be committed:\r\n#       new file:   gogo.txt\r\n#\r\n# Changes not staged for commit:\r\n#       modified:   Git status & undoing.md\r\n#\r\n\r\n```\r\n\r\n커밋 메시지 수정하는 경우 해시값이 변경되므로, 다른 이력으로 관리가 된다.\r\n\r\n**따라서, 공개된 저장소[원격저장소]에 이미 push 한 경우 절대 수정해서는 안된다.**\r\n\r\n> commit 을 역사라고 생각하고 역사를 바꾸려는 시도는 가능하면 하지말자.\r\n\r\n2. 특정 파일 추가하기\r\n   * `c.txt` 파일을 같이 커밋하려고 했는데 `add` 를 하지 않고 커밋 해버린 경우.\r\n\r\n```bash\r\n$ git add c.txxt\r\n$ git commit --amend\r\n# add하지 않았던 c.txt를 add하고 commit --amend 로 시점을 돌려서 commit 을 한다고 생각.\r\n```\r\n\r\n\r\n\r\n### Staging area\r\n\r\n1. 커밋 이력이 있는 파일 수정 하는 경우\r\n\r\n```bash\r\n$ git status\r\nOn branch master\r\n#변경 사항인데 staging은 아닌 상황.\r\nYour branch is ahead of 'origin/master' by 3 commits.\r\n  (use \"git push\" to publish your local commits)\r\n\r\nChanges not staged for commit:\r\n  (use \"git add <file>...\" to update what will be committed)\r\n  (use \"git restore <file>...\" to discard changes in working directory)\r\n        modified:   a.txt\r\n\r\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\r\n$ git add a.txt\r\n# git add로 staging에 올림.\r\n$ git status\r\nOn branch master\r\nYour branch is ahead of 'origin/master' by 3 commits.\r\n  (use \"git push\" to publish your local commits)\r\n\r\nChanges to be committed:\r\n  (use \"git restore --staged <file>...\" to unstage)\r\n        modified:   a.txt\r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\n### add 취소하기\r\n\r\n```bash\r\n$ git restore --staged <file>\r\n# 다시 내려와!!\r\n\r\n$ git status\r\nOn branch master\r\nYour branch is ahead of 'origin/master' by 3 commits.\r\n  (use \"git push\" to publish your local commits)\r\nChanges not staged for commit:\r\n  (use \"git add <file>...\" to update what will be committed)\r\n  (use \"git restore <file>...\" to discard changes in working directory)\r\n        modified:   a.txt\r\n# 내려왔음 ㅠㅠ..\r\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\r\n```\r\n\r\n* 구 버전의 git 에서는 아래의 명령어를 사용해야 한다.\r\n\r\n  ```bash\r\n  $ git reset HEAD <file>\r\n  ```\r\n\r\n\r\n\r\n### WD 변화 삭제하기(되돌리기)\r\n\r\n> git에서는 모든 commit 시점으로 되돌릴 수는 있다.\r\n>\r\n> 다만 WD 삭제하는 것은 되돌릴 수가 없다. \r\n\r\n```bash\r\n$ git status\r\n#지워진 파일 확인\r\n$ git status\r\nOn branch master\r\nYour branch is ahead of 'origin/master' by 3 commits.\r\n  (use \"git push\" to publish your local commits)\r\n\r\nChanges not staged for commit:\r\n  (use \"git add/rm <file>...\" to update what will be committed)\r\n  (use \"git restore <file>...\" to discard changes in working directory)\r\n        deleted:    .gitignore\r\n        modified:   Git status & undoing.md\r\n        deleted:    a.txt\r\n        deleted:    b.txt\r\n        deleted:    c.txt\r\n$ git resotre <file>\r\n# 지워진 파일을 돌아가자. 혹은 그 시점으로 돌아간다\r\n```\r\n\r\n* 구버전 git 에서는 아래의 명령어를 사용해야 한다.\r\n\r\n  ```bash\r\n  $ git checkout -- <file>\r\n  # 과거에 친구와 함께 팀플할때는 이거 썼었는데..\r\n  ```\r\n\r\n\r\n\r\n-----\r\n\r\n\r\n\r\n# Stash\r\n\r\n> 변경사항을 임시로 저장 해놓는 공간.\r\n\r\n```\r\n1. feature branch에서 a.txt 변경 및 커밋\r\n2. master branch에서 a.txt 수정 (add commit 상태)\r\n3. merge \r\n```\r\n\r\n\r\n\r\nstash 저장\r\n\r\n```bash\r\n\r\n$ git stash\r\nSaved working directory and index state WIP on master: c489627 Update:Git status.md\r\n```\r\n\r\n\r\n\r\nstash 목록\r\n\r\n```bash\r\n$ git stash list\r\nstash@{0}: WIP on master: c489627 Update:Git status.md\r\n```\r\n\r\n\r\n\r\n### 해결\r\n\r\n```bash\r\n$ git stash # 임시 공간 저장\r\n$ git merge feature # 병합\r\n$ git stash pop # 임시 공간에서 병합.\r\n\r\n# 충돌 발생, 해결 후 작업 이어가기\r\n```\r\n\r\n\r\n\r\n## Reset vs Revert\r\n\r\n>  공개된 저장소[원격 저장소]에 push 된 이력은 절대 reset 하지 않는다.\r\n>\r\n> 혼자 하던 일을 지워버리고 잊어버리는건 가능하지만. 팀으로 할 경우 충돌이 일어난다.\r\n\r\n```bash\r\n$ git reset [해시코드]\r\n```\r\n\r\n* `기본 [--mixed]`: 이후 변경 사항을 WD에 위치시켜줌\r\n* `--hard `: 이후 변경 사항이 모두 삭제함.**주의**\r\n* `--sort`: 지금 작업하고 있는 내용(WD) 및 변경 사항을 WD에 유지시켜줌.\r\n\r\n\r\n\r\n### Revert\r\n\r\n> 해당 커밋 으로 되돌렸다는 이력 (rever commit)을 남긴다. 즉, 다른 사람과의 작업에 방해가 적어진다. 지금까지 해왔던 것 위에 새로운 commit 을 생성하는 것이니\r\n\r\n```bash\r\n$ git revert [해시코드]\r\n```\r\n\r\n* vim -> 커밋 메시지 작성\r\n\r\n\r\n\r\n## 후에 찾아보기\r\n\r\n* github student pack\r\n* jetbrains 학생 - IDE(통합개발환경)\r\n* notion student\r\n\r\n","fields":{"slug":"/git-post-03/"},"frontmatter":{"title":"깃 정리 -03","published":true}}},{"node":{"rawMarkdownBody":"\r\n## 시작하기에 앞서\r\n\r\n저번 깃 정리의 이어서 이번엔 Git을 좀 더 효율적으로 관리하는 git flow 에 대해 알아보고 다양한 상황에서의 해결을 보여주고자 한다.\r\n\r\n## [Git flow](https://drive.google.com/open?id=1bkvYHMN2Rz8b0GZNw7GY5-flTOKF8pZj)\r\n\r\n\r\n\r\n### 상황 1. fast-foward\r\n\r\n> fast-foward는 feature 브랜치 생성된 이후 master 브랜치에 변경 사항이 없는 상황\r\n\r\n1. feature/test branch 생성 및 이동\r\n\r\n   ```bash\r\n   $ git checkout -b feature/test\r\n   Switched to a new branch 'feature/test'\r\n   \r\n   (feature/test) $\r\n   ```\r\n\r\n   \r\n\r\n2. 작업 완료 후 commit\r\n\r\n   ```bash\r\n   $ touch test.txt\r\n   $ git add text.txt\r\n   $ git commit -m \"Complete test\"\r\n   \r\n   [feature/test c6a0e86] Complete test\r\n    1 file changed, 0 insertions(+), 0 deletions(-)\r\n    create mode 100644 test.txt\r\n   \r\n   ```\r\n\r\n   \r\n\r\n3. master 이동\r\n\r\n   ```bash\r\n   $ git checkout master\r\n   Switched to branch 'master'\r\n   \r\n   ```\r\n\r\n   \r\n\r\n4. master에 병합\r\n\r\n   ```bash\r\n   (master) $ git merge feature/test\r\n   Updating c08aa0a..c6a0e86\r\n   Fast-forward\r\n    test.txt | 0\r\n    1 file changed, 0 insertions(+), 0 deletions(-)\r\n    create mode 100644 test.txt\r\n   ```\r\n\r\n   \r\n\r\n5. 결과 -> fast-foward (단순히 HEAD를 이동)\r\n\r\n6. branch 삭제\r\n\r\n------\r\n\r\n### 상황 2. merge commit\r\n\r\n> 서로 다른 이력(commit)을 병합(merge)하는 과정에서 다른 파일이 수정되어 있는 상황\r\n>\r\n> git이 auto merging을 진행하고, commit이 발생된다.\r\n\r\n1. feature/signout branch 생성 및 이동\r\n\r\n   ```bash\r\n   $ git checkout -b feature/signout\r\n   Switched to a new branch 'feature/signout'\r\n   ```\r\n\r\n2. 작업 완료 후 commit\r\n\r\n   ```bash\r\n   $ git add signout\r\n   $ git commit -m \"Add:signout\"\r\n   [feature/signout 1c3facd] Add:signout\r\n    1 file changed, 0 insertions(+), 0 deletions(-)\r\n    create mode 100644 signout\r\n   $ git checkout master\r\n   Switched to branch 'master'\r\n   (master)\r\n   $ git log --oneline\r\n   1c3facd (HEAD -> feature/signout) Add:signout\r\n   c6a0e86 (master) Complete test\r\n   c08aa0a Add:aaa.txt\r\n   fe93429 Add README.MD\r\n   ```\r\n   \r\n3. master 이동\r\n\r\n   ```bash\r\n   $ git checkout master\r\n   Switched to branch 'master'\r\n   $ git log --oneline\r\n   c6a0e86 (HEAD -> master) Complete test\r\n   c08aa0a Add:aaa.txt\r\n   fe93429 Add README.MD\r\n   ```\r\n\r\n4. *master에 추가 commit 이 발생시키기!!*\r\n\r\n   - **다른 파일을 수정 혹은 생성하세요!**\r\n\r\n   ```bash\r\n   $ touch hotfix.txt\r\n   $ git add .\r\n   $ git commit -m \"hotfix on master\"\r\n   [master 28d7a84] hotfix on master\r\n    1 file changed, 0 insertions(+), 0 deletions(-)\r\n    create mode 100644 hotfix.txt\r\n    \r\n   $ git log --oneline\r\n   28d7a84 (HEAD -> master) hotfix on master\r\n   c6a0e86 Complete test\r\n   c08aa0a Add:aaa.txt\r\n   fe93429 Add README.MD\r\n   ```\r\n   \r\n5. master에 병합\r\n\r\n   ```bash\r\n   (master) $ git merge feature/signout\r\n   ```\r\n   \r\n6. 결과 -> 자동으로 *merge commit 발생*\r\n\r\n   - vim 편집기 화면이 나타납니다.\r\n   - 자동으로 작성된 커밋 메시지를 확인하고, `esc`를 누른 후 `:wq`를 입력하여 저장 및 종료를 합니다.\r\n     - `w` : write\r\n     - `q` : quit\r\n   - 커밋이 확인 해봅시다.\r\n\r\n   ```bash\r\n   $ git merge feature/signout\r\n   Merge made by the 'recursive' strategy.\r\n    signout | 0\r\n    1 file changed, 0 insertions(+), 0 deletions(-)\r\n    create mode 100644 signout\r\n   ```\r\n\r\n   \r\n\r\n7. 그래프 확인하기\r\n\r\n   ```bash\r\n   $ git log --oneline\r\n   5b87e65 (HEAD -> master) Merge branch 'feature/signout'\r\n   28d7a84 hotfix on master\r\n   1c3facd (feature/signout) Add:signout\r\n   c6a0e86 Complete test\r\n   c08aa0a Add:aaa.txt\r\n   fe93429 Add README.MD\r\n   ```\r\n\r\n   \r\n\r\n8. branch 삭제\r\n\r\n------\r\n\r\n### 상황 3. merge commit 충돌\r\n\r\n> 서로 다른 이력(commit)을 병합(merge)하는 과정에서 동일 파일이 수정되어 있는 상황\r\n>\r\n> git이 auto merging을 하지 못하고, 해당 파일의 위치에 라벨링을 해준다.\r\n>\r\n> 원하는 형태의 코드로 직접 수정을 하고 merge commit을 발생 시켜야 한다.\r\n\r\n1. feature/board branch 생성 및 이동\r\n\r\n   ```bash\r\n   $ git checkout -b feature/board\r\n   ```\r\n\r\n   \r\n\r\n2. 작업 완료 후 commit\r\n\r\n   ```bash\r\n   (board) $ touch board.html\r\n   # README.md 수정\r\n   $ git add .\r\n   $ git commit -m \"Complete board & update README.md\"\r\n   \r\n   $ git log --oneline\r\n   5b87e65 (HEAD -> feature/board, master) Merge branch 'feature/signout'\r\n   28d7a84 hotfix on master\r\n   1c3facd Add:signout\r\n   c6a0e86 Complete test\r\n   c08aa0a Add:aaa.txt\r\n   fe93429 Add README.MD\r\n   ```\r\n\r\n   \r\n\r\n3. master 이동\r\n\r\n   ```bash\r\n   $ git checkout master\r\n   ```\r\n\r\n   \r\n\r\n4. *master에 추가 commit 이 발생시키기!!*\r\n\r\n   ```bash\r\n   $ git add .\r\n   $ git commit -m \"add:board and board branch\"\r\n   ```\r\n\r\n   \r\n\r\n   - **동일 파일을 수정 혹은 생성하세요!**\r\n\r\n   README.md 파일 수정\r\n\r\n5. master에 병합\r\n\r\n   ```bash\r\n   $ git merge feature/boarding\r\n   Auto-merging README.md\r\n   CONFLICT (content): Merge conflict in README.md\r\n   Automatic merge failed; fix conflicts and then commit the result\r\n   \r\n   (master|MERGING)\r\n   ```\r\n\r\n   \r\n\r\n6. 결과 -> *merge conflict발생*\r\n\r\n7. 충돌 확인 및 해결\r\n\r\n   `visual code` 에서 확인후에 고쳐나감.\r\n\r\n8. merge commit 진행\r\n\r\n   ```\r\n   $ git commit\r\n   ```\r\n\r\n   - vim 편집기 화면이 나타납니다.\r\n\r\n   ```bash\r\n   Merge branch 'feature/boarding'\r\n   \r\n   # Conflicts:\r\n   #       README.md\r\n   #\r\n   # It looks like you may be committing a merge.\r\n   # If this is not correct, please remove the file\r\n   #       .git/MERGE_HEAD\r\n   # and try again.\r\n   \r\n   \r\n   # Please enter the commit message for your changes. Lines starting\r\n   # with '#' will be ignored, and an empty message aborts the commit.\r\n   #\r\n   # On branch master\r\n   # All conflicts fixed but you are still merging.\r\n   #\r\n   # Changes to be committed:\r\n   #       modified:   README.md\r\n   #       new file:   boarding.html\r\n   #\r\n   ~\r\n   ```\r\n\r\n   \r\n\r\n   - 자동으로 작성된 커밋 메시지를 확인하고, `esc`를 누른 후 `:wq`를 입력하여 저장 및 종료를 합니다.\r\n     - `w` : write\r\n     - `q` : quit\r\n   - 커밋이 확인 해봅시다.\r\n\r\n   ```bash\r\n   [master d8b8c95] Merge branch 'feature/boarding'\r\n   ```\r\n\r\n   \r\n\r\n9. 그래프 확인하기\r\n\r\n   ```bash\r\n   $ git log --oneline\r\n   d8b8c95 (HEAD -> master) Merge branch 'feature/boarding'\r\n   3bcec90 Update:README.md\r\n   3c365ef (feature/boarding) update:README.md\r\n   3275a17 Complete boarding\r\n   48b58ea add:board\r\n   dbc3d10 add:board and board branch\r\n   5b87e65 Merge branch 'feature/signout'\r\n   28d7a84 hotfix on master\r\n   1c3facd Add:signout\r\n   c6a0e86 Complete test\r\n   c08aa0a Add:aaa.txt\r\n   fe93429 Add README.MD\r\n   ```\r\n\r\n   중간에 이것저것 하느라 조금 지저분하다.\r\n\r\n10. branch 삭제\r\n\r\n","fields":{"slug":"/git-post-02/"},"frontmatter":{"title":"깃 정리 -02","published":true}}},{"node":{"rawMarkdownBody":"\r\n## 시작하기에 앞서\r\n\r\n멀티캠퍼스 수업에서의 3주차에서 3일간에 걸친 Git 강의가 끝이 났다. 이것저것 배우면서 배웠던 것을 한 곳에 모아 포스트 형식으로 올려놓은 것이다. 대략적으로 깃의 기초, 원격저장소 설정,  .gitignore에 대해 알아보자.\r\n\r\n\r\n\r\n# Git 기초\r\n\r\n## 0. 준비 사항\r\n\r\n* [git bash](https://gitforwindows.org/)\r\n  * git을 활용하기 위한 CLI(command Line interface)를 제공한다\r\n  * source, tree, github desktop 등을 통해 GUI 환경에서도 활용 가능하다.\r\n\r\n\r\n## 1. 로컬 저장소 활용하기\r\n\r\n\r\n### 1. 저장소 초기화\r\n\r\n```bash\r\n$ git init\r\ninitialized existing Git repository in C:/Users/student/Desktop/git_tutorial/.git/\r\n```\r\n\r\n* 저장소(repository)를 초기화 하게 되면 .git 폴더가 해당 디렉토리에 생성된다.\r\n* bush 창에서는 (master) 라고 표기된다.\r\n  * 현재 브랜치가 master라는 것을 의미한다.\r\n\r\n### 2. add ~staging area\r\n\r\n> git으로 관리되는 파일들은 Working directory(작업 환경), Staging Area, commit 단계를 거쳐 이력에 저장된다.\r\n\r\n```bash\r\n$ git add a.txt #파일명\r\n$ git add images #폴더명\r\n$ git add . #현재 디렉토리의 모든파일 및 폴더\r\n```\r\n\r\n* add 후 상태\r\n\r\n```bash\r\n$ git status\r\nOn branch master\r\nChanges to be committed:\r\n  (use \"git restore --staged <file>...\" to unstage)\r\n        new file:   b.txt\r\n```\r\n\r\n### 3. commit\r\n\r\n> 커밋은 코드의 이력을 남기는 과정이다.\r\n\r\n```bash\r\n$ git commit -m \"add:b.txt\"\r\n[master 46b3223] add:b.txt\r\n 1 file changed, 1 insertion(+)\r\n create mode 100644 b.txt\r\n\r\n```\r\n\r\n* 커밋 메시지는 항상 해당 이력에 대한 정보를 담을 수 있도록 작성하는 것이 좋다.\r\n\r\n* 일관적인 커밋 메시지를 작성하는 습관을 들이자\r\n\r\n* 이력 확인을 위해서는 아래의 명령어를 활용한다.\r\n\r\n  ```bash\r\n  $ git log\r\n  commit 46b32233afb1f111445cd3d2bbf586ae2e2725d8 (HEAD -> master)\r\n  Author: choihwan2 <choihwan2@naver.com>\r\n  Date:   Mon Dec 16 14:23:38 2019 +0900\r\n  \r\n      add:b.txt\r\n  \r\n  commit d5e516b29033aad088fe91bdead201ffd7c38eb7\r\n  Author: choihwan2 <choihwan2@naver.com>\r\n  Date:   Mon Dec 16 11:41:25 2019 +0900\r\n  \r\n      Fix:a.txt\r\n  \r\n  commit 76a5998098344000b84b2517e9104e507fcf3681\r\n  Author: choihwan2 <choihwan2@naver.com>\r\n  Date:   Mon Dec 16 11:30:19 2019 +0900\r\n  \r\n      Add: a.txt\r\n  \r\n  ```\r\n\r\n  **항상 status 명령어를 통해 git의 상태를 확인하자! commit 이후에는 log 명령어를 통해 이력들을 확인하자**\r\n\r\n\r\n\r\n-----\r\n\r\n\r\n\r\n## 원격 저장소 활용하기\r\n\r\n> 원격 저장소(remote repository)를 제공하는 서비스는 다양하게 존재한다.\r\n>\r\n> github을 기준으로 설명한다.\r\n\r\n## 0. 준비하기\r\n\r\n* Github에서 저장소(repository) 생성\r\n\r\n### 1. 원격 저장소 설정\r\n\r\n```bash\r\n$ git remote add origin {github url}\r\n```\r\n\r\n* {github url} 부분에는 원격 저장소 url을 작성한다.\r\n* 원격 저장소(remote)로 {github url}  을 orgin 이라는 이름으로 추가(add)하는 명령어이다.\r\n* 원격 저장소 목록을 보기 위해서는 아래의 명령어를 활용한다.\r\n\r\n```bash\r\n$ git remote -v\r\norigin  https://github.com/choihwan2/TR.git (fetch)\r\norigin  https://github.com/choihwan2/TR.git (push)\r\n```\r\n\r\n### 2. push\r\n\r\n```bash\r\n$ git push origin master\r\n\r\nEnumerating objects: 4, done.\r\nCounting objects: 100% (4/4), done.\r\nDelta compression using up to 8 threads\r\nCompressing objects: 100% (3/3), done.\r\nWriting objects: 100% (3/3), 2.44 KiB | 2.44 MiB/s, done.\r\nTotal 3 (delta 0), reused 0 (delta 0)\r\nTo https://github.com/choihwan2/TR.git\r\n   46b3223..3c6588e  master -> master\r\n```\r\n\r\n* 설정된 원격 저장소(origin) 으로 push!\r\n\r\n폴더의 내용을 수정 및 삭제, 생성 등을 하게 된다면 add comit push 명령어를 통해서 이력을 저장하고 push 명령어를 통해 업로드를 한다.\r\n\r\n\r\n\r\n## 3. git commit -am\r\n\r\n```bash\r\n$ git commit -am \"update skill sets\"\r\n\r\n```\r\n\r\n`add`와 `commit` 이 한번에 가능하게 해주는 명령어 입니다. 그동안의 기록들이 올라가지만 깃헙에서는 최신의 기록만 보여줍니다.\r\n\r\n> 혹시라도 vim 에 빠지게 된다면`ESC + : wq` : 빔 탈출! 후에 깃 상태의 포스트에서 빔에 대해서도 간략하게 설명해 놓았다.\r\n\r\n\r\n\r\n-----\r\n\r\n\r\n\r\n## Gitignore\r\n\r\n> Git 을 통한 프로젝트 시작시 반드시 설정하자!\r\n\r\n### 활용법\r\n\r\n```java\r\n*.xlss # 확장자가 xlss인 파일\r\n  test/ # text 폴더\r\n  a.txt # 특정파일\r\n```\r\n\r\n보통 `.gitignore` 에 등ㅇ록 되는 파일은 iDE(이클립스)설정과 관련된 내용 혹은 프로그래밍 언어별 임시 파일, 윈도우 등 OS 관련 파일을 등록한다. (프로젝트 소스코드와 무관)\r\n\r\n잘 모르는 경우 해당 환경을 [gitignore.io](http://gitignore.io/) 에서 검색하며 설정하자.\r\n\r\n예) `eclipse`, `java`, `windows...`\r\n\r\n\r\n","fields":{"slug":"/git-post-01/"},"frontmatter":{"title":"깃 정리 -01","published":true}}},{"node":{"rawMarkdownBody":"\r\n## 첫 시작\r\n\r\n멀티캠퍼스 3주째 깃헙 특강을 오신 선생님께서 깃허브 블로그 만들기를 알려 주셨다. 처음에는 bootstrap 으로 간단하게 포트폴리오를 만들어보고 후에 원한다면 jekyll 과 Gatsby 두개를 소개해주셨다. 과거에 jekyll 를 이용해서 블로그를 만들다 포기했던 기억이 있어서 이번엔 Gatsby로 도전해 봤다.\r\n\r\n\r\n\r\n가장 기초적인 것부터 하나하나 만들어가는 것은 너무 무리일 것 같아 검색하다 좋은 설명글과 테마가 있어서 가져와 사용해보았다.  [참고](https://junhobaik.github.io/create-gatsby-blog/)\r\n\r\n완전 처음 해보는 것이라서 꽤 시간을 소비했는데.. 가장 크게 막혔던 것은 과거에 jekyll 을 사용할 때도 그랬지만 cmd창에서 무언가 설치를 상당히 많이하면서 진행하다보니 이게 내가 잘 하고 있는건지.. 아니면 잘못하고 있는지 알기 힘들뿐 아니라 실행을 해서 안될 경우 어디서 문제가 있는지 참 찾기 어렵기 때문인 것 같다. 내가 가장 크게 실수한것은 바로.. 설명글에 있던 기술스택(?)이라고 설명해 놓으신 곳에 있는 것들을 설치를 하지않아서 였던 것 같다. 그래서 다른 쓸데없는걸 너무 많이 설치해버린..\r\n\r\n하여튼 결국 많은 설치과.. 엄청 많은 시간을 쓴건 아니지만 적당한 시간 소비로 깔끔하게 블로그를 가져와 사용할 수 있게 되었다! \r\n\r\n이제 앞으로 많은 수정을 통해서 내것으로 바꿔가려고 노력하겠지만.. 일단 과거에 했던것 처럼 댓글기능과 포스트들을 추가해볼 예정이다. 일단 상당 메뉴 부분도 왼쪽으로 바꿔보고 싶은데.. 시간이 꽤 걸릴것 같다. 마지막으로 훌륭한 테마를 만들어주신 [Junho Baik](https://junhobaik.github.io/)님께 감사드리며.. 마치겠다.\r\n\r\n","fields":{"slug":"/first-blog/"},"frontmatter":{"title":"첫 블로그 생성기","published":true}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":true}}}