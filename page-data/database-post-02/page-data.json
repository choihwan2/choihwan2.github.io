{"componentChunkName":"component---src-templates-post-tsx","path":"/database-post-02/","result":{"data":{"markdownRemark":{"html":"<h2 id=\"시작하기에-앞서\" style=\"position:relative;\"><a href=\"#%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0%EC%97%90-%EC%95%9E%EC%84%9C\" aria-label=\"시작하기에 앞서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>시작하기에 앞서</h2>\n<p>Oracle Database를 활용하여 데이터베이스 기초를 배우고 있는 중이다. 다양한 Select, join, 집계함수, subQuery에 대해서 학습하고 정리해본 내용이다.</p>\n<h2 id=\"where--order-by\" style=\"position:relative;\"><a href=\"#where--order-by\" aria-label=\"where  order by permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>where &#x26; order by</h2>\n<ul>\n<li>기본적으로 SCOTT/TIGER에서 진행하였다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\">--where 절에서는 as 사용 x</span>\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span>sal<span class=\"token punctuation\">,</span>comm<span class=\"token punctuation\">,</span>sal<span class=\"token operator\">+</span>nvl<span class=\"token punctuation\">(</span>comm<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> <span class=\"token string\">\"총급여\"</span>\n<span class=\"token keyword\">from</span> emp\n<span class=\"token keyword\">where</span> sal <span class=\"token operator\">+</span> nvl<span class=\"token punctuation\">(</span>comm<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">>=</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">--정렬</span>\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span>sal<span class=\"token punctuation\">,</span>comm<span class=\"token punctuation\">,</span>sal<span class=\"token operator\">+</span>nvl<span class=\"token punctuation\">(</span>comm<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> <span class=\"token string\">\"총급여\"</span>\n<span class=\"token keyword\">from</span> emp\n<span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> sal<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">--셀값만 준다면 기본적으로는 오름차순 (asc인데 생략가능)</span>\n\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span>sal<span class=\"token punctuation\">,</span>comm<span class=\"token punctuation\">,</span>sal<span class=\"token operator\">+</span>nvl<span class=\"token punctuation\">(</span>comm<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> <span class=\"token string\">\"총급여\"</span>\n<span class=\"token keyword\">from</span> emp\n<span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> sal <span class=\"token keyword\">desc</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">--desc는 내림차순</span>\n\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span>sal<span class=\"token punctuation\">,</span>comm<span class=\"token punctuation\">,</span>sal<span class=\"token operator\">+</span>nvl<span class=\"token punctuation\">(</span>comm<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> <span class=\"token string\">\"총급여\"</span>\n<span class=\"token keyword\">from</span> emp\n<span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> sal <span class=\"token keyword\">asc</span><span class=\"token punctuation\">,</span> comm <span class=\"token keyword\">desc</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">--각각 조건도 가능.</span>\n\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span> sal<span class=\"token punctuation\">,</span> sal <span class=\"token operator\">+</span> nvl<span class=\"token punctuation\">(</span>comm<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> <span class=\"token string\">\"총급여\"</span>\n<span class=\"token keyword\">from</span> emp\n<span class=\"token keyword\">where</span> comm <span class=\"token operator\">is</span> <span class=\"token boolean\">null</span>\n<span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> sal<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">--is null is not null로도 사용가능.</span>\n\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span> sal<span class=\"token punctuation\">,</span> sal <span class=\"token operator\">+</span> nvl<span class=\"token punctuation\">(</span>comm<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> <span class=\"token string\">\"총급여\"</span>\n<span class=\"token keyword\">from</span> emp\n<span class=\"token keyword\">where</span> comm <span class=\"token operator\">is</span> <span class=\"token boolean\">null</span>\n<span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> <span class=\"token string\">\"총급여\"</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"단일행-함수dual\" style=\"position:relative;\"><a href=\"#%EB%8B%A8%EC%9D%BC%ED%96%89-%ED%95%A8%EC%88%98dual\" aria-label=\"단일행 함수dual permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>단일행 함수(dual)</h2>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 단일행 함수</span>\n<span class=\"token keyword\">select</span> dname<span class=\"token punctuation\">,</span> lower<span class=\"token punctuation\">(</span>dname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> loc<span class=\"token punctuation\">,</span> lower<span class=\"token punctuation\">(</span>loc<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">from</span> dept<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">select</span> <span class=\"token function\">round</span><span class=\"token punctuation\">(</span><span class=\"token number\">44.55</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">round</span><span class=\"token punctuation\">(</span><span class=\"token number\">44.55</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> trunc<span class=\"token punctuation\">(</span><span class=\"token number\">44.55</span><span class=\"token punctuation\">)</span> \n<span class=\"token keyword\">from</span> dual<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">--round 반올림, 몇번째 짜리까지 반올림, 소수점 잘림.</span>\n\n<span class=\"token keyword\">select</span> sal<span class=\"token punctuation\">,</span> sal<span class=\"token operator\">*</span><span class=\"token number\">0.03</span> <span class=\"token keyword\">as</span> <span class=\"token string\">\"TAX\"</span>\n<span class=\"token keyword\">from</span> emp<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">--기본적인 연산도 가능하다.</span>\n\n<span class=\"token comment\">--어디서부터 시작해서 몇개 나오는지</span>\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span> hiredate<span class=\"token punctuation\">,</span> substr<span class=\"token punctuation\">(</span>hiredate<span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">from</span> emp\n<span class=\"token keyword\">where</span> substr<span class=\"token punctuation\">(</span>hiredate<span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">like</span> <span class=\"token number\">12</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">--날짜에 관련된 함수와 형식변환</span>\n<span class=\"token keyword\">select</span> sysdate <span class=\"token punctuation\">,</span>substr<span class=\"token punctuation\">(</span>sysdate<span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> dual<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">select</span> sysdate <span class=\"token punctuation\">,</span> to_char<span class=\"token punctuation\">(</span>sysdate<span class=\"token punctuation\">,</span> <span class=\"token string\">'YY'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> dual<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">select</span> sysdate <span class=\"token punctuation\">,</span> to_char<span class=\"token punctuation\">(</span>sysdate<span class=\"token punctuation\">,</span> <span class=\"token string\">'YYYY'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> dual<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">select</span> sysdate <span class=\"token punctuation\">,</span> to_char<span class=\"token punctuation\">(</span>sysdate<span class=\"token punctuation\">,</span> <span class=\"token string\">'MM'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> dual<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">select</span> sysdate <span class=\"token punctuation\">,</span> to_char<span class=\"token punctuation\">(</span>sysdate<span class=\"token punctuation\">,</span> <span class=\"token string\">'day'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> dual<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">select</span> sysdate <span class=\"token punctuation\">,</span> to_char<span class=\"token punctuation\">(</span>sysdate<span class=\"token punctuation\">,</span> <span class=\"token string\">'mm'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> dual<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">select</span> sysdate <span class=\"token punctuation\">,</span> to_char<span class=\"token punctuation\">(</span>sysdate<span class=\"token punctuation\">,</span> <span class=\"token string\">'dd'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> dual<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">--emp에서 사원들의 사원명, 입사월, 요일 정보를 출력하세요.</span>\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span> to_char<span class=\"token punctuation\">(</span>hiredate<span class=\"token punctuation\">,</span><span class=\"token string\">'mm'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> <span class=\"token string\">\"입사월\"</span><span class=\"token punctuation\">,</span> to_char<span class=\"token punctuation\">(</span>hiredate<span class=\"token punctuation\">,</span><span class=\"token string\">'day'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> <span class=\"token string\">\"입사 요일\"</span>\n<span class=\"token keyword\">from</span> emp\n<span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> <span class=\"token string\">\"입사월\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">select</span> sysdate<span class=\"token punctuation\">,</span> to_date<span class=\"token punctuation\">(</span><span class=\"token string\">'2019/12/24'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> dual<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">select</span> sysdate<span class=\"token punctuation\">,</span> to_date<span class=\"token punctuation\">(</span><span class=\"token string\">'2019-12-24'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> dual<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">select</span> sysdate<span class=\"token punctuation\">,</span> to_date<span class=\"token punctuation\">(</span><span class=\"token string\">'29 12 24'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'dd-mm-yy'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> dual<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- decode 함수</span>\n<span class=\"token comment\">--decode(어디에서,몇번째,해줄것, 몇번재, 해줄것)</span>\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span> sal<span class=\"token punctuation\">,</span> deptno<span class=\"token punctuation\">,</span> decode<span class=\"token punctuation\">(</span>deptno<span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> sal<span class=\"token operator\">*</span><span class=\"token number\">1.2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> sal<span class=\"token operator\">*</span> <span class=\"token number\">0.7</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> <span class=\"token string\">\"보너스\"</span>\n<span class=\"token keyword\">from</span> emp\n<span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> deptno<span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<h2 id=\"join\" style=\"position:relative;\"><a href=\"#join\" aria-label=\"join permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>join</h2>\n<blockquote>\n<p>join은 두 개의 상관있는 테이블을 연결하여 서로의 테이블에서 데이터를 가져올 때 사용된다.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span>dname<span class=\"token punctuation\">,</span>loc\n<span class=\"token keyword\">from</span> emp<span class=\"token punctuation\">,</span>dept\n<span class=\"token keyword\">where</span> EMP<span class=\"token punctuation\">.</span>DEPTNO <span class=\"token operator\">=</span> dept<span class=\"token punctuation\">.</span>deptno<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">--두 개의 테이블이 어떤 관계인지 정의내려줘야한다.</span>\n\n<span class=\"token keyword\">select</span> ENAME<span class=\"token punctuation\">,</span> EMP<span class=\"token punctuation\">.</span>DEPTNO<span class=\"token punctuation\">,</span> DNAME<span class=\"token punctuation\">,</span> LOC\n<span class=\"token keyword\">from</span> EMP<span class=\"token punctuation\">,</span>DEPT\n<span class=\"token keyword\">where</span> EMP<span class=\"token punctuation\">.</span>DEPTNO <span class=\"token operator\">=</span> DEPT<span class=\"token punctuation\">.</span>DEPTNO<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">.</span>deptno<span class=\"token punctuation\">,</span>dname<span class=\"token punctuation\">,</span>loc\n<span class=\"token keyword\">from</span> emp e<span class=\"token punctuation\">,</span> dept d\n<span class=\"token keyword\">where</span> e<span class=\"token punctuation\">.</span>deptno <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span>deptno<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">--sal > 2000 크면서 deptno가 20인 사원의 이름, sal loc 출력</span>\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span> sal<span class=\"token punctuation\">,</span> loc\n<span class=\"token keyword\">from</span> emp e<span class=\"token punctuation\">,</span> dept d\n<span class=\"token keyword\">where</span> e<span class=\"token punctuation\">.</span>DEPTNO <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span>DEPTNO <span class=\"token operator\">and</span> e<span class=\"token punctuation\">.</span>SAL <span class=\"token operator\">></span> <span class=\"token number\">2000</span> <span class=\"token operator\">and</span> e<span class=\"token punctuation\">.</span>DEPTNO <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span>\n<span class=\"token comment\">-- Ansi join 표준(맘대로 하면 복잡하니 표준을 만들자) : , => (inner) join where => on</span>\n<span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span>\n\n<span class=\"token comment\">--inner join 둘의 공통</span>\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span> sal<span class=\"token punctuation\">,</span> loc\n<span class=\"token keyword\">from</span> emp e <span class=\"token keyword\">join</span> dept d\n<span class=\"token keyword\">on</span> e<span class=\"token punctuation\">.</span>deptno <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span>deptno\n<span class=\"token keyword\">where</span> sal <span class=\"token operator\">></span> <span class=\"token number\">2000</span> <span class=\"token operator\">and</span> e<span class=\"token punctuation\">.</span>deptno <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">--outer join</span>\n<span class=\"token comment\">--Oracle</span>\n<span class=\"token comment\">--null 쪽에 + 마킹 : +가 있는 쪽에 있는 모든걸 보여준다 null 이여도.</span>\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span> d<span class=\"token punctuation\">.</span>deptno<span class=\"token punctuation\">,</span> dname<span class=\"token punctuation\">,</span> loc\n<span class=\"token keyword\">from</span> emp e<span class=\"token punctuation\">,</span> dept d\n<span class=\"token keyword\">where</span> e<span class=\"token punctuation\">.</span>deptno<span class=\"token punctuation\">(</span><span class=\"token operator\">+</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span>deptno<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">--Ansi join</span>\n<span class=\"token comment\">-- right 쪽이 테이블이 마스터가 된다. </span>\n<span class=\"token comment\">-- 기준이 교집합에서 오른쪽이 다 차있는 교집합이라고 생각하면 될듯 .</span>\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span> d<span class=\"token punctuation\">.</span>deptno<span class=\"token punctuation\">,</span> dname<span class=\"token punctuation\">,</span> loc\n<span class=\"token keyword\">from</span> emp e <span class=\"token keyword\">right</span> <span class=\"token keyword\">outer</span> <span class=\"token keyword\">join</span> dept d\n<span class=\"token keyword\">on</span> e<span class=\"token punctuation\">.</span>deptno <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span>deptno<span class=\"token punctuation\">;</span>\n\n<span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span>\n<span class=\"token comment\">-- non equi join</span>\n<span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span>\n\n<span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> salgrade<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- oracle join</span>\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span>sal<span class=\"token punctuation\">,</span>grade\n<span class=\"token keyword\">from</span> emp<span class=\"token punctuation\">,</span> salgrade\n<span class=\"token keyword\">where</span> sal <span class=\"token operator\">between</span> losal <span class=\"token operator\">and</span> hisal<span class=\"token punctuation\">;</span>\n\n\n<span class=\"token comment\">--ansi join</span>\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span> sal<span class=\"token punctuation\">,</span> grade\n<span class=\"token keyword\">from</span> emp <span class=\"token keyword\">join</span> salgrade\n<span class=\"token keyword\">on</span> sal <span class=\"token operator\">between</span> losal <span class=\"token operator\">and</span> hisal<span class=\"token punctuation\">;</span>\n\n\n<span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span>\n<span class=\"token comment\">-- n개의 테이블 join</span>\n<span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span>\n<span class=\"token comment\">-- 사원명, sal, 부서이름, salgrade</span>\n\n<span class=\"token comment\">--oracle</span>\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span> sal<span class=\"token punctuation\">,</span> dname<span class=\"token punctuation\">,</span> grade\n<span class=\"token keyword\">from</span> emp<span class=\"token punctuation\">,</span> dept<span class=\"token punctuation\">,</span> salgrade\n<span class=\"token keyword\">where</span> emp<span class=\"token punctuation\">.</span>deptno <span class=\"token operator\">=</span> dept<span class=\"token punctuation\">.</span>deptno <span class=\"token operator\">and</span> sal <span class=\"token operator\">between</span> losal <span class=\"token operator\">and</span> hisal<span class=\"token punctuation\">;</span>\n\n\n<span class=\"token comment\">-- ansi join</span>\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span> sal<span class=\"token punctuation\">,</span> dname<span class=\"token punctuation\">,</span> grade\n<span class=\"token keyword\">from</span> emp \n\t<span class=\"token keyword\">join</span> dept\n\t<span class=\"token keyword\">on</span> emp<span class=\"token punctuation\">.</span>deptno <span class=\"token operator\">=</span> dept<span class=\"token punctuation\">.</span>deptno\n\t<span class=\"token keyword\">join</span> salgrade\n\t<span class=\"token keyword\">on</span> sal <span class=\"token operator\">between</span> losal <span class=\"token operator\">and</span> hisal \n<span class=\"token keyword\">where</span> sal <span class=\"token operator\">></span> <span class=\"token number\">1500</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span>\n<span class=\"token comment\">-- oracle self join</span>\n<span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span>\n<span class=\"token comment\">-- 사원의 이름과 그 사원의 상사 이름 출력</span>\n<span class=\"token keyword\">select</span> e<span class=\"token punctuation\">.</span>ename<span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">.</span>ename\n<span class=\"token keyword\">from</span> emp e<span class=\"token punctuation\">,</span> emp m\n<span class=\"token keyword\">where</span> e<span class=\"token punctuation\">.</span>mgr <span class=\"token operator\">=</span> m<span class=\"token punctuation\">.</span>empno<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">select</span> e<span class=\"token punctuation\">.</span>ename<span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">.</span>ename\n<span class=\"token keyword\">from</span> emp e<span class=\"token punctuation\">,</span> emp m\n<span class=\"token keyword\">where</span> e<span class=\"token punctuation\">.</span>mgr <span class=\"token operator\">=</span> m<span class=\"token punctuation\">.</span>empno<span class=\"token punctuation\">(</span><span class=\"token operator\">+</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- 상사보다 월급을 더 많이 받는 직원</span>\n<span class=\"token keyword\">select</span> e<span class=\"token punctuation\">.</span>ename<span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">.</span>ename<span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">.</span>sal<span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">.</span>sal\n<span class=\"token keyword\">from</span> emp e<span class=\"token punctuation\">,</span> emp m\n<span class=\"token keyword\">where</span> e<span class=\"token punctuation\">.</span>mgr <span class=\"token operator\">=</span> m<span class=\"token punctuation\">.</span>empno<span class=\"token punctuation\">(</span><span class=\"token operator\">+</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">and</span> e<span class=\"token punctuation\">.</span>sal <span class=\"token operator\">></span> m<span class=\"token punctuation\">.</span>sal<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">--ansi left와 right 는 outer 생략가능. </span>\n<span class=\"token keyword\">select</span> e<span class=\"token punctuation\">.</span>ename<span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">.</span>ename\n<span class=\"token keyword\">from</span> emp e <span class=\"token keyword\">join</span> emp m\n<span class=\"token keyword\">on</span> e<span class=\"token punctuation\">.</span>mgr <span class=\"token operator\">=</span> m<span class=\"token punctuation\">.</span>empno<span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">select</span> e<span class=\"token punctuation\">.</span>ename <span class=\"token string\">\"사원명\"</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">.</span>sal<span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">.</span>ename <span class=\"token string\">\"상사이름\"</span><span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">.</span>sal\n<span class=\"token keyword\">from</span> emp e \n<span class=\"token keyword\">join</span> emp m\n<span class=\"token keyword\">on</span> e<span class=\"token punctuation\">.</span>mgr <span class=\"token operator\">=</span> m<span class=\"token punctuation\">.</span>empno\n<span class=\"token keyword\">where</span> e<span class=\"token punctuation\">.</span>sal <span class=\"token operator\">>=</span> m<span class=\"token punctuation\">.</span>sal<span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"집계함수\" style=\"position:relative;\"><a href=\"#%EC%A7%91%EA%B3%84%ED%95%A8%EC%88%98\" aria-label=\"집계함수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>집계함수</h2>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\">--집계함수</span>\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span> <span class=\"token function\">round</span><span class=\"token punctuation\">(</span>sal<span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> emp<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span> <span class=\"token function\">avg</span><span class=\"token punctuation\">(</span>sal<span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> emp<span class=\"token punctuation\">;</span> <span class=\"token comment\">--안됨.</span>\n\n<span class=\"token keyword\">select</span> <span class=\"token function\">avg</span><span class=\"token punctuation\">(</span>sal<span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> emp<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">select</span> <span class=\"token function\">round</span><span class=\"token punctuation\">(</span><span class=\"token function\">avg</span><span class=\"token punctuation\">(</span>sal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"전체 평균급여\"</span> <span class=\"token keyword\">from</span> emp<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">select</span> <span class=\"token function\">round</span><span class=\"token punctuation\">(</span><span class=\"token function\">avg</span><span class=\"token punctuation\">(</span>sal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">||</span> <span class=\"token string\">'원'</span> <span class=\"token keyword\">from</span> emp<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">select</span> deptno<span class=\"token punctuation\">,</span> <span class=\"token function\">round</span><span class=\"token punctuation\">(</span><span class=\"token function\">avg</span><span class=\"token punctuation\">(</span>sal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> emp <span class=\"token keyword\">group</span> <span class=\"token keyword\">by</span> deptno<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">--집계함수에서는 group by로 들어간 아이만 select 절에 들어갈 수 있다.</span>\n\n<span class=\"token keyword\">select</span> dname<span class=\"token punctuation\">,</span> <span class=\"token function\">avg</span><span class=\"token punctuation\">(</span>sal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">count</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">min</span><span class=\"token punctuation\">(</span>sal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">max</span><span class=\"token punctuation\">(</span>sal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">count</span><span class=\"token punctuation\">(</span>mgr<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">from</span> emp\n<span class=\"token keyword\">right</span> <span class=\"token keyword\">join</span> dept\n<span class=\"token keyword\">on</span> emp<span class=\"token punctuation\">.</span>deptno <span class=\"token operator\">=</span> dept<span class=\"token punctuation\">.</span>deptno\n<span class=\"token keyword\">group</span> <span class=\"token keyword\">by</span> dname\n<span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> dname<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">--부서번호, 부서이름, 부서평균급여, 부서에 있는 사람수, 부서별 최소,최대 월급</span>\n<span class=\"token keyword\">select</span> e<span class=\"token punctuation\">.</span>deptno<span class=\"token punctuation\">,</span> dname<span class=\"token punctuation\">,</span> <span class=\"token function\">avg</span><span class=\"token punctuation\">(</span>sal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">count</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">min</span><span class=\"token punctuation\">(</span>sal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">max</span><span class=\"token punctuation\">(</span>sal<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">from</span> emp e<span class=\"token punctuation\">,</span> dept d\n<span class=\"token keyword\">where</span> e<span class=\"token punctuation\">.</span>deptno <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span>deptno\n<span class=\"token keyword\">group</span> <span class=\"token keyword\">by</span> e<span class=\"token punctuation\">.</span>deptno<span class=\"token punctuation\">,</span> dname<span class=\"token punctuation\">;</span>\n\n\n<span class=\"token comment\">--group by 이후 조건을 주는것이 having 절</span>\n<span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span>\n<span class=\"token keyword\">select</span>\n<span class=\"token keyword\">from</span>\n<span class=\"token keyword\">where</span>\n<span class=\"token keyword\">group</span> <span class=\"token keyword\">by</span>\n<span class=\"token keyword\">having</span>\n<span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span>\n<span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span>\n\n<span class=\"token comment\">--평균 급여가 2000이상인 사람.</span>\n<span class=\"token keyword\">select</span> e<span class=\"token punctuation\">.</span>deptno<span class=\"token punctuation\">,</span> dname<span class=\"token punctuation\">,</span> <span class=\"token function\">round</span><span class=\"token punctuation\">(</span><span class=\"token function\">avg</span><span class=\"token punctuation\">(</span>sal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"평균급여\"</span>\n<span class=\"token keyword\">from</span> emp e<span class=\"token punctuation\">,</span> dept d\n<span class=\"token keyword\">where</span> e<span class=\"token punctuation\">.</span>deptno <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span>deptno\n<span class=\"token keyword\">group</span> <span class=\"token keyword\">by</span> e<span class=\"token punctuation\">.</span>deptno<span class=\"token punctuation\">,</span> dname\n<span class=\"token keyword\">having</span> <span class=\"token function\">avg</span><span class=\"token punctuation\">(</span>sal<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">2000</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"subquery\" style=\"position:relative;\"><a href=\"#subquery\" aria-label=\"subquery permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>subQuery</h2>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\">--subQuery</span>\n<span class=\"token comment\">--Ford 보다 급여가 많은 사원 목록</span>\n\n<span class=\"token keyword\">select</span> sal <span class=\"token keyword\">from</span> emp <span class=\"token keyword\">where</span> ename <span class=\"token operator\">=</span> <span class=\"token string\">'FORD'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> emp <span class=\"token keyword\">where</span> sal <span class=\"token operator\">></span> <span class=\"token number\">3000</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> \n<span class=\"token keyword\">from</span> emp\n<span class=\"token keyword\">where</span> sal <span class=\"token operator\">></span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">select</span> sal <span class=\"token keyword\">from</span> emp <span class=\"token keyword\">where</span> ename <span class=\"token operator\">=</span> <span class=\"token string\">'FORD'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token comment\">-- 전체 평균 급여보다 적게 받는 사원 목록</span>\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span> sal\n<span class=\"token keyword\">from</span> emp\n<span class=\"token keyword\">where</span> sal <span class=\"token operator\">&lt;</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">select</span> <span class=\"token function\">avg</span><span class=\"token punctuation\">(</span>sal<span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> emp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span> sal\n<span class=\"token keyword\">from</span> emp\n<span class=\"token keyword\">where</span> sal <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">select</span> <span class=\"token function\">min</span><span class=\"token punctuation\">(</span>sal<span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> emp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- 부서별 최고 급여를 받는 사원 목록</span>\n\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span> sal<span class=\"token punctuation\">,</span> <span class=\"token function\">max</span><span class=\"token punctuation\">(</span>sal<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">from</span> emp e\n<span class=\"token keyword\">join</span> dept\n<span class=\"token keyword\">on</span> e<span class=\"token punctuation\">.</span>deptno <span class=\"token operator\">=</span> dept<span class=\"token punctuation\">.</span>deptno\n<span class=\"token keyword\">group</span> <span class=\"token keyword\">by</span> e<span class=\"token punctuation\">.</span>deptno<span class=\"token punctuation\">;</span>\n\n\n<span class=\"token comment\">--부서별 최고 급여 받는 사원</span>\n<span class=\"token keyword\">select</span> <span class=\"token operator\">*</span>\n<span class=\"token keyword\">from</span> emp\n<span class=\"token keyword\">where</span> sal <span class=\"token operator\">in</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">select</span> <span class=\"token function\">max</span><span class=\"token punctuation\">(</span>sal<span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> emp <span class=\"token keyword\">group</span> <span class=\"token keyword\">by</span> deptno<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">select</span> <span class=\"token operator\">*</span>\n<span class=\"token keyword\">from</span> emp\n<span class=\"token keyword\">where</span> <span class=\"token punctuation\">(</span>deptno<span class=\"token punctuation\">,</span> sal<span class=\"token punctuation\">)</span> <span class=\"token operator\">in</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">select</span> deptno<span class=\"token punctuation\">,</span> <span class=\"token function\">max</span><span class=\"token punctuation\">(</span>sal<span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> emp <span class=\"token keyword\">group</span> <span class=\"token keyword\">by</span> deptno<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> deptno<span class=\"token punctuation\">;</span>\n\n\n<span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span>\n<span class=\"token comment\">-- rownum: 자동적으로 1~n 개의 수가 column에 주어짐.</span>\n<span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span>\n\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span> job<span class=\"token punctuation\">,</span> sal\n<span class=\"token keyword\">from</span> emp<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">select</span> rownum<span class=\"token punctuation\">,</span> ename<span class=\"token punctuation\">,</span> job<span class=\"token punctuation\">,</span> sal\n<span class=\"token keyword\">from</span> emp<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">select</span> rownum<span class=\"token punctuation\">,</span> ename<span class=\"token punctuation\">,</span> job<span class=\"token punctuation\">,</span> sal\n<span class=\"token keyword\">from</span> emp\n<span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> sal<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">select</span> rownum<span class=\"token punctuation\">,</span> ename<span class=\"token punctuation\">,</span> job<span class=\"token punctuation\">,</span> sal\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> emp <span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> sal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">--급여 top 3</span>\n<span class=\"token keyword\">select</span> rownum<span class=\"token punctuation\">,</span> ename<span class=\"token punctuation\">,</span> job<span class=\"token punctuation\">,</span> sal\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> emp <span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> sal <span class=\"token keyword\">desc</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">where</span> rownum <span class=\"token operator\">&lt;</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">select</span> rownum<span class=\"token punctuation\">,</span> ename<span class=\"token punctuation\">,</span> job<span class=\"token punctuation\">,</span> sal\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> emp <span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> sal <span class=\"token keyword\">desc</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">where</span> rownum <span class=\"token operator\">between</span> <span class=\"token number\">6</span> <span class=\"token operator\">and</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">--rownum 은 1부터 시작하는 경우가 아니니 작동하지 않음.</span>\n\n<span class=\"token comment\">--oracle page 처리</span>\n\n<span class=\"token keyword\">select</span> <span class=\"token operator\">*</span>\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">(</span>\n\t<span class=\"token keyword\">select</span> rownum <span class=\"token keyword\">row</span><span class=\"token comment\">#, ename, job, sal</span>\n\t<span class=\"token keyword\">from</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> emp <span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> sal <span class=\"token keyword\">desc</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">where</span> <span class=\"token keyword\">row</span><span class=\"token comment\"># between 6 and 10;</span>\n<span class=\"token comment\">--rownum을 먼저 생성한후 그것을 row#으로 받고 그다음 그 목록에서 6~10의 수를 보여줌.</span></code></pre></div>","excerpt":"시작하기에 앞서 Oracle Database를 활용하여 데이터베이스 기초를 배우고 있는 중이다. 다양한 Select, join, 집계함수, subQuery에 대해서 학습하고 정리해본 내용이다. where & order by 기본적으로 SCOTT…","tableOfContents":"<ul>\n<li><a href=\"/database-post-02/#%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0%EC%97%90-%EC%95%9E%EC%84%9C\">시작하기에 앞서</a></li>\n<li><a href=\"/database-post-02/#where--order-by\">where &#x26; order by</a></li>\n<li><a href=\"/database-post-02/#%EB%8B%A8%EC%9D%BC%ED%96%89-%ED%95%A8%EC%88%98dual\">단일행 함수(dual)</a></li>\n<li><a href=\"/database-post-02/#join\">join</a></li>\n<li><a href=\"/database-post-02/#%EC%A7%91%EA%B3%84%ED%95%A8%EC%88%98\">집계함수</a></li>\n<li><a href=\"/database-post-02/#subquery\">subQuery</a></li>\n</ul>","fields":{"slug":"/database-post-02/"},"frontmatter":{"title":"데이터베이스 정리 -02","date":"Dec 26, 2019","tags":["sql","database","TIL","oracle"],"keywords":["Happy Hwan","Hwan Choi"],"update":"Jan 01, 0001"}}},"pageContext":{"slug":"/database-post-02/","series":[],"lastmod":"0001-01-01"}},"staticQueryHashes":["3649515864","63159454"]}